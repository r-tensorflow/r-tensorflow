<!doctype html><html><head><script>theBaseUrl=location.origin+"/";</script><meta charset=utf-8><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1"><title>TensorFlow tensors</title><meta name=generator content="Hugo 0.58.3"><meta name=description content="Documentation for the TensorFlow for R interface"><link rel=canonical href=/guide/tensorflow/tensors/><meta name=author content="J.J. Allaire"><meta property=og:url content=/guide/tensorflow/tensors/><meta property=og:title content="TensorFlow for R"><meta name=apple-mobile-web-app-title content="TensorFlow for R"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><style>@font-face{font-family:icon;src:url(fonts/icon.eot?52m981);src:url(fonts/icon.eot?#iefix52m981) format('embedded-opentype'),url(fonts/icon.woff?52m981) format('woff'),url(fonts/icon.ttf?52m981) format('truetype'),url(fonts/icon.svg?52m981#icon) format('svg');font-weight:400;font-style:normal}</style><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/site-styles.css><script src=/js/vendor.js></script><script src=/js/app.js></script><link rel="shortcut icon" href=/images/favicon.png><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body><div class=single-page><nav data-gumshoe-header aria-label=Header id=header class=top-menu><div class=left><a href=/ data-parenturl class="top-menu-item site-title">TensorFlow for R</a>
<span class=logo-from>from</span>
<a href=/><div id=logo class=logo></div></a></div><div class=right><div class=top-menu-items id=top-menu-items><a href=/ data-parenturl=/ class=top-menu-item>Home</a>
<a href=/installation/ data-parenturl=/installation/ class=top-menu-item>Installation</a>
<a href=/tutorials/ data-parenturl=/tutorials/ class=top-menu-item>Tutorials</a>
<a href=/guide/ data-parenturl=/guide/ class=top-menu-item>Guide</a>
<a href=/deploy/ data-parenturl=/deploy/ class=top-menu-item>Deploy</a>
<a href=/tools/ data-parenturl=/tools/ class=top-menu-item>Tools</a>
<a href=/reference/keras data-parenturl=/reference/keras class=top-menu-item>API</a>
<a href=/learn/resources/ data-parenturl=/learn/resources/ class=top-menu-item>Learn</a>
<a href=/blog.html data-parenturl=/blog.html class=top-menu-item>Blog</a></div><a href=https://github.com/rstudio/tensorflow class=github-logo><i class="fa fa-lg fa-github" aria-hidden=true></i></a><div class=search-button><i class="fa fa-lg fa-search"></i></div></div></nav><nav aria-label=Header id=mobile-header><a href=/>TensorFlow for R</a><div class=right><a href=https://github.com/rstudio/tensorflow class=github-logo><i class="fa fa-lg fa-github" aria-hidden=true></i></a><div class=hamburger><i class="fa fa-lg fa-bars" aria-hidden=true></i></div></div></nav><div id=mobile-menu-container><ul id=mobile-menu><li><a href=/>Home</a></li><ul></ul><li><a href=/installation/>Installation</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/installation/>Installing TensorFlow</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/installation/>Quick start</a></li><li><a href=/installation/custom/>Custom Installation</a></li></ul><li><a href=/installation/gpu>Using a GPU</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/installation/gpu/>Overview</a></li><li><a href=/installation/gpu/local_gpu/>Local GPU</a></li><li><a href=/installation/gpu/cloud_server_gpu/>Cloud Server</a></li><li><a href=/installation/gpu/cloud_desktop_gpu/>Cloud Desktop</a></li></ul></ul><li><a href=/tutorials/>Tutorials</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/>Overview</a></li><li><a href>Beginners</a></li><li><a href=/tutorials/beginners/>Quickstart</a></li><li><a href=/tutorials/beginners/basic-ml/>Basic ML with Keras</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/beginners/basic-ml/>Overview</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_basic_classification/>Image Classification</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_basic_regression/>Regression</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_basic_text_classification/>Text Classification</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_basic_text_classification_with_tfhub/>Transfer learning with tfhub</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_overfit_underfit/>Overfitting and Underfitting</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_save_and_restore/>Save and Restore Models</a></li></ul><li><a href=/tutorials/beginners/load/load_csv/>Load and preprocess data</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/beginners/load/load_csv/>Load CSV data</a></li><li><a href=/tutorials/beginners/load/load_image/>Load image data</a></li></ul><li><a href>Advanced</a></li><li><a href=/tutorials/advanced/>Quickstart</a></li><li><a href=/tutorials/advanced/customization/tensors-operations/>Customization</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/advanced/customization/tensors-operations/>Tensors and operations</a></li><li><a href=/tutorials/advanced/customization/custom-layers/>Custom layers</a></li><li><a href=/tutorials/advanced/customization/autodiff/>Automatic differentiation</a></li><li><a href=/tutorials/advanced/customization/custom-training/>Custom training</a></li></ul><li><a href=/tutorials/advanced/images/cnn/>Images</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/advanced/images/cnn/>Convolutional Neural Network</a></li><li><a href=/tutorials/advanced/images/transfer-learning-hub/>Transfer Learning with tfhub</a></li></ul><li><a href=/tutorials/advanced/structured/classify/>Structured data</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/advanced/structured/classify/>Classify structured data</a></li></ul><li><a href=/tutorials/advanced/distributed/distributed_training_with_keras/>Distributed training</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/advanced/distributed/distributed_training_with_keras/>Distributed training with Keras</a></li></ul></ul><li><a href=/guide/>Guide</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/>Overview</a></li><li><a href>Keras</a></li><li><a href=/guide/keras/>Getting started</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/keras/>Overview</a></li><li><a href=/guide/keras/guide_keras/>Keras basics</a></li><li><a href=/guide/keras/sequential_model/>Sequential API</a></li><li><a href=/guide/keras/functional_api/>Functional API</a></li><li><a href=/guide/keras/saving_serializing/>Saving and serializing models</a></li><li><a href=/guide/keras/faq/>Frequently Asked Questions</a></li></ul><li><a href=/guide/keras/custom_layers/>Advanced</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/keras/custom_layers/>Custom Layers</a></li><li><a href=/guide/keras/custom_models/>Custom Models</a></li><li><a href=/guide/keras/training_callbacks/>Training Callbacks</a></li><li><a href=/guide/keras/applications/>Pre-Trained Models</a></li><li><a href=/guide/keras/training_visualization/>Training Visualization</a></li></ul><li><a href=/guide/keras/examples/>Examples</a></li><li><a href>TensorFlow Mechanics</a></li><li><a href=/guide/tensorflow/eager_execution>Basics</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tensorflow/eager_execution/>Eager execution</a></li><li><a href=/guide/tensorflow/variable/>Variables</a></li><li><a href=/guide/tensorflow/tensors/>Tensors</a></li></ul><li><a href=/guide/tensorflow/ragged_tensors>Advanced</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tensorflow/ragged_tensors/>Ragged tensors</a></li></ul><li><a href>Data input pipeline</a></li><li><a href=/guide/tfdatasets/introduction>Overview</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tfdatasets/introduction/>Using Datasets</a></li></ul><li><a href=/guide/tfdatasets/feature_spec>Feature spec API</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tfdatasets/feature_spec/>Feature Spec interface</a></li><li><a href=/guide/tfdatasets/feature_columns/>Feature columns</a></li></ul><li><a href>TensorFlow Hub</a></li><li><a href=/guide/tfhub/intro>Basics</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tfhub/intro/>Overview</a></li><li><a href=/guide/tfhub/hub-with-keras/>Using with Keras</a></li></ul><li><a href=/guide/tfhub/key-concepts>Key concepts</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tfhub/key-concepts/>Key Concepts</a></li></ul><li><a href=/guide/tfhub/examples/>Examples</a></li><li><a href>Model saving</a></li><li><a href=/guide/saving/checkpoints>Checkpoints</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/saving/checkpoints/>Checkpoints</a></li></ul><li><a href=/guide/saving/saved_model>Saved Model</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/saving/saved_model/>Saved Model</a></li></ul></ul><li><a href=/deploy/>Deploy</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/deploy/>Overview</a></li><li><a href=/deploy/plumber/>Plumber</a></li><li><a href=/deploy/shiny/>Shiny</a></li><li><a href=/deploy/docker/>TensorFlow Serving</a></li><li><a href=/deploy/rsconnect/>RStudio Connect</a></li></ul><li><a href=/tools/>Tools</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tools/>Overview</a></li><li><a href=/tools/tfruns/>Training Runs</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tools/tfruns/overview/>Introduction to tfruns</a></li><li><a href=/tools/tfruns/tuning/>Hyperparameter Tuning</a></li><li><a href=/tools/tfruns/managing/>Managing Training Runs</a></li></ul><li><a href=/tools/tensorboard/tensorboard/>TensorBoard</a></li></ul><li><a href=/reference/keras>API</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/reference/keras/>keras</a></li><li><a href=/reference/tensorflow/>tensorflow</a></li><li><a href=/reference/tfdatasets/>tfdatasets</a></li><li><a href=/reference/tfruns/>tfruns</a></li></ul><li><a href=/learn/resources/>Learn</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/learn/resources/>Resources</a></li></ul><li><a href=/blog.html>Blog</a></li><ul></ul></ul></div><div id=search-bar class=search-bar><p class=search-bar__icon><i class="fa fa-lg fa-search"></i></p><div class=search-bar__input><input type=text name=search class=st-default-search-input></div><div class=search-bar__exit><i class="fa fa-lg fa-times"></i></div><div class=inline-search-results><ul></ul></div></div></div><div class="page documentation"><div class=side-menu id=side-menu><ul class=side-menu-list data-parenturl=/ style=display:none></ul><ul class=side-menu-list data-parenturl=/installation/ style=display:none><li class=side-menu__item><a href=/installation/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Installing TensorFlow</p></a></li><li class=side-menu__item><a href=/installation/gpu class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Using a GPU</p></a></li></ul><ul class=side-menu-list data-parenturl=/tutorials/ style=display:none><li class=side-menu__item><a href=/tutorials/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Beginners</p></span></li><li class=side-menu__item><a href=/tutorials/beginners/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Quickstart</p></a></li><li class=side-menu__item><a href=/tutorials/beginners/basic-ml/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basic ML with Keras</p></a></li><li class=side-menu__item><a href=/tutorials/beginners/load/load_csv/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Load and preprocess data</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Advanced</p></span></li><li class=side-menu__item><a href=/tutorials/advanced/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Quickstart</p></a></li><li class=side-menu__item><a href=/tutorials/advanced/customization/tensors-operations/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Customization</p></a></li><li class=side-menu__item><a href=/tutorials/advanced/images/cnn/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Images</p></a></li><li class=side-menu__item><a href=/tutorials/advanced/structured/classify/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Structured data</p></a></li><li class=side-menu__item><a href=/tutorials/advanced/distributed/distributed_training_with_keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Distributed training</p></a></li></ul><ul class=side-menu-list data-parenturl=/guide/ style=display:none><li class=side-menu__item><a href=/guide/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Keras</p></span></li><li class=side-menu__item><a href=/guide/keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Getting started</p></a></li><li class=side-menu__item><a href=/guide/keras/custom_layers/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Advanced</p></a></li><li class=side-menu__item><a href=/guide/keras/examples/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Examples</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">TensorFlow Mechanics</p></span></li><li class="side-menu__item active"><a href=/guide/tensorflow/eager_execution class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basics</p></a><ul class=side-menu__sub><span style=display:none>guide</span><li class=side-menu__sub__item><a id=menu-link-/guide/tensorflow/eager_execution/ class=side-menu__sub__item__text href=/guide/tensorflow/eager_execution/ data-url=/guide/tensorflow/eager_execution/>Eager execution</a></li><span style=display:none>guide</span><li class=side-menu__sub__item><a id=menu-link-/guide/tensorflow/variable/ class=side-menu__sub__item__text href=/guide/tensorflow/variable/ data-url=/guide/tensorflow/variable/>Variables</a></li><span style=display:none>guide</span><li class="side-menu__sub__item active"><a id=menu-link-/guide/tensorflow/tensors/ class=side-menu__sub__item__text href=/guide/tensorflow/tensors/ data-url=/guide/tensorflow/tensors/>Tensors</a></li></ul></li><li class=side-menu__item><a href=/guide/tensorflow/ragged_tensors class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Advanced</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Data input pipeline</p></span></li><li class=side-menu__item><a href=/guide/tfdatasets/introduction class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=/guide/tfdatasets/feature_spec class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Feature spec API</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">TensorFlow Hub</p></span></li><li class=side-menu__item><a href=/guide/tfhub/intro class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basics</p></a></li><li class=side-menu__item><a href=/guide/tfhub/key-concepts class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Key concepts</p></a></li><li class=side-menu__item><a href=/guide/tfhub/examples/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Examples</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Model saving</p></span></li><li class=side-menu__item><a href=/guide/saving/checkpoints class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Checkpoints</p></a></li><li class=side-menu__item><a href=/guide/saving/saved_model class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Saved Model</p></a></li></ul><ul class=side-menu-list data-parenturl=/deploy/ style=display:none><li class=side-menu__item><a href=/deploy/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=/deploy/plumber/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Plumber</p></a></li><li class=side-menu__item><a href=/deploy/shiny/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Shiny</p></a></li><li class=side-menu__item><a href=/deploy/docker/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>TensorFlow Serving</p></a></li><li class=side-menu__item><a href=/deploy/rsconnect/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>RStudio Connect</p></a></li></ul><ul class=side-menu-list data-parenturl=/tools/ style=display:none><li class=side-menu__item><a href=/tools/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=/tools/tfruns/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Training Runs</p></a></li><li class=side-menu__item><a href=/tools/tensorboard/tensorboard/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>TensorBoard</p></a></li></ul><ul class=side-menu-list data-parenturl=/reference/keras style=display:none><li class=side-menu__item><a href=/reference/keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>keras</p></a></li><li class=side-menu__item><a href=/reference/tensorflow/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>tensorflow</p></a></li><li class=side-menu__item><a href=/reference/tfdatasets/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>tfdatasets</p></a></li><li class=side-menu__item><a href=/reference/tfruns/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>tfruns</p></a></li></ul><ul class=side-menu-list data-parenturl=/learn/resources/ style=display:none><li class=side-menu__item><a href=/learn/resources/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Resources</p></a></li></ul><ul class=side-menu-list data-parenturl=/blog.html style=display:none></ul></div><div class=content><h1 class=content-header>TensorFlow tensors</h1><div class=markdowned><div class=doc-page><div class=doc-page-index><ul id=gumshoe-container data-gumshoe></ul></div><div class=doc-page-body><p>TensorFlow, as the name indicates, is a framework to define and run computations
involving tensors. A <em>tensor</em> is a generalization of vectors and matrices to
potentially higher dimensions. Internally, TensorFlow represents tensors as
n-dimensional arrays of base datatypes.</p><p>When writing a TensorFlow program, the main object you manipulate and pass
around is the <code>tf$Tensor</code>. A <code>tf$Tensor</code> object represents a partially defined
computation that will eventually produce a value. TensorFlow programs work by
first building a graph of <code>tf$Tensor</code> objects, detailing how each tensor is
computed based on the other available tensors and then by running parts of this
graph to achieve the desired results.</p><p>A <code>tf$Tensor</code> has the following properties:</p><ul><li>a data type (<code>float32</code>, <code>int32</code>, or <code>string</code>, for example)</li><li>a shape</li></ul><p>Each element in the Tensor has the same data type, and the data type is always
known. The shape (that is, the number of dimensions it has and the size of each
dimension) might be only partially known. Most operations produce tensors of
fully-known shapes if the shapes of their inputs are also fully known, but in
some cases it’s only possible to find the shape of a tensor at graph execution
time.</p><p>Some types of tensors are special, and these will be covered in other
units of the TensorFlow guide. The main ones are:</p><ul><li><code>tf$Variable</code></li><li><code>tf$constant</code></li><li><code>tf$SparseTensor</code></li></ul><p>With the exception of <code>tf.Variable</code>, the value of a tensor is immutable, which
means that in the context of a single execution tensors only have a single
value. However, evaluating the same tensor twice can return different values;
for example that tensor can be the result of reading data from disk, or
generating a random number.</p><div id=rank class="section level2"><h2>Rank</h2><p>The <strong>rank</strong> of a <code>tf$Tensor</code> object is its number of dimensions. Synonyms for
rank include <strong>order</strong> or <strong>degree</strong> or <strong>n-dimension</strong>.
Note that rank in TensorFlow is not the same as matrix rank in mathematics.
As the following table shows, each rank in TensorFlow corresponds to a
different mathematical entity:</p><table><thead><tr class=header><th>Rank</th><th>Math entity</th></tr></thead><tbody><tr class=odd><td>0</td><td>Scalar (magnitude only)</td></tr><tr class=even><td>1</td><td>Vector (magnitude and direction)</td></tr><tr class=odd><td>2</td><td>Matrix (table of numbers)</td></tr><tr class=even><td>3</td><td>3-Tensor (cube of numbers)</td></tr><tr class=odd><td>n</td><td>n-Tensor (you get the idea)</td></tr></tbody></table><div id=rank-0 class="section level3"><h3>Rank 0</h3><p>The following snippet demonstrates creating a few rank 0 variables:</p><div class=sourceCode id=cb1><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb1-1 data-line-number=1><span class=kw><a href=https://rdrr.io/r/base/library.html>library</a></span>(tensorflow)</a>
<a class=sourceLine id=cb1-2 data-line-number=2>mammal &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=st>"Elephant"</span>, tf<span class=op>$</span>string)</a>
<a class=sourceLine id=cb1-3 data-line-number=3>ignition &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=dv>451</span>, tf<span class=op>$</span>int16)</a>
<a class=sourceLine id=cb1-4 data-line-number=4>floating &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=fl>3.14159265359</span>, tf<span class=op>$</span>float64)</a>
<a class=sourceLine id=cb1-5 data-line-number=5>its_complicated &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=fl>12.3</span> <span class=op>-</span><span class=st> </span><span class=fl>4.85</span>i, tf<span class=op>$</span>complex64)</a></code></pre></div><p>Note: A string is treated as a single object in TensorFlow, not as a sequence of
characters. It is possible to have scalar strings, vectors of strings, etc.</p></div><div id=rank-1 class="section level3"><h3>Rank 1</h3><p>To create a rank 1 <code>tf.Tensor</code> object, you can pass a list of items as the
initial value. For example:</p><div class=sourceCode id=cb2><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb2-1 data-line-number=1>mystr &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=st>"Hello"</span>), tf<span class=op>$</span>string)</a>
<a class=sourceLine id=cb2-2 data-line-number=2>cool_numbers &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=fl>3.14159</span>, <span class=fl>2.71828</span>), tf<span class=op>$</span>float32)</a>
<a class=sourceLine id=cb2-3 data-line-number=3>first_primes &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=dv>2</span>, <span class=dv>3</span>, <span class=dv>5</span>, <span class=dv>7</span>, <span class=dv>11</span>), tf<span class=op>$</span>int32)</a>
<a class=sourceLine id=cb2-4 data-line-number=4>its_very_complicated &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=fl>12.3</span> <span class=op>-</span><span class=st> </span><span class=fl>4.85</span>i, <span class=fl>7.5</span> <span class=op>-</span><span class=st> </span><span class=fl>6.23</span>i), tf<span class=op>$</span>complex64)</a></code></pre></div></div><div id=higher-ranks class="section level3"><h3>Higher ranks</h3><p>A rank 2 <code>tf$Tensor</code> object consists of at least one row and at least
one column:</p><div class=sourceCode id=cb3><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb3-1 data-line-number=1>mymat &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>Variable</span>(<span class=kw><a href=https://rdrr.io/r/base/list.html>list</a></span>(<span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=dv>7</span>, <span class=dv>2</span>),<span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=dv>11</span>, <span class=dv>3</span>)), tf<span class=op>$</span>int16)</a></code></pre></div><p>Higher-rank Tensors, similarly, consist of an n-dimensional array. For example,
during image processing, many tensors of rank 4 are used, with dimensions
corresponding to example-in-batch, image height, image width, and color channel.</p><div class=sourceCode id=cb4><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb4-1 data-line-number=1>my_image &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>zeros</span>(<span class=dt>shape =</span> <span class=kw><a href=../../tensorflow/reference/shape.html>shape</a></span>(<span class=dv>10</span>, <span class=dv>299</span>, <span class=dv>299</span>, <span class=dv>3</span>)) <span class=co># batch x height x width x color</span></a></code></pre></div></div><div id=getting-a-tftensor-objects-rank class="section level3"><h3>Getting a <code>tf$Tensor</code> object’s rank</h3><p>To determine the rank of a <code>tf$Tensor</code> object, call the <code>tf$rank</code> method.
For example, the following method programmatically determines the rank
of the <code>tf$Tensor</code> defined in the previous section:</p><div class=sourceCode id=cb5><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb5-1 data-line-number=1>r &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw><a href=https://rdrr.io/r/base/rank.html>rank</a></span>(my_image)</a>
<a class=sourceLine id=cb5-2 data-line-number=2>r</a></code></pre></div><pre><code>## tf.Tensor(4, shape=(), dtype=int32)</code></pre></div><div id=referring-to-tftensor-slices class="section level3"><h3>Referring to <code>tf$Tensor</code> slices</h3><p>Tensor elements can be extracted either by using functions like <code>tf$gather()</code> and <code>tf$slice()</code>, or by using <code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> syntax.</p><p>Extracting tensor elements with <code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> in R is similar to extracting elements from standard R arrays, albeit with some minor differences in capabilities. In contrast to most <code>tf$</code> functions, <code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> defaults to R style 1-based rather than 0-based indexes. Currently, only numeric indexes in <code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> are supported (no logical or character indexes)</p><p>Extracting works identically to R arrays if the slicing index is missing, supplied as a scalar, or as a sequence (e.g, created by <code>:</code> or <code><a href=https://rdrr.io/r/base/seq.html>seq_len()</a></code>)</p><div class=sourceCode id=cb7><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb7-1 data-line-number=1>x[,<span class=dv>1</span>] <span class=er>)</span>      <span class=co># all rows, first column</span></a>
<a class=sourceLine id=cb7-2 data-line-number=2>x[<span class=dv>1</span><span class=op>:</span><span class=dv>2</span>,] <span class=er>)</span>    <span class=co># first two rows, all columns</span></a>
<a class=sourceLine id=cb7-3 data-line-number=3>x[,<span class=dv>1</span>, drop =<span class=st> </span><span class=ot>FALSE</span>] <span class=er>)</span> <span class=co># all rows, first column, but preserving the tensor rank</span></a></code></pre></div><p><code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> also supports slices with a strided step, which can be specified in traditional R style with <code><a href=https://rdrr.io/r/base/seq.html>seq()</a></code> or with a python-style second colon. If you are unfamiliar with python-style strided step syntax, see here for a <a href=https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#basic-slicing-and-indexing>quick primer</a></p><div class=sourceCode id=cb8><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb8-1 data-line-number=1>x[, <span class=kw><a href=https://rdrr.io/r/base/seq.html>seq</a></span>(<span class=dv>1</span>, <span class=dv>5</span>, <span class=dt>by =</span> <span class=dv>2</span>)]  <span class=co># R style</span></a>
<a class=sourceLine id=cb8-2 data-line-number=2>x[, <span class=dv>1</span><span class=op>:</span><span class=dv>5</span><span class=op>:</span><span class=dv>2</span>]              <span class=co># Equivalent python-style strided step </span></a></code></pre></div><p>Missing arguments for python syntax are valid, but they must be supplied as NULL or whole expression must by backticked.</p><div class=sourceCode id=cb9><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb9-1 data-line-number=1>x[, <span class=st>`</span><span class=dt>::2</span><span class=st>`</span>] </a>
<a class=sourceLine id=cb9-2 data-line-number=2>x[, <span class=ot>NULL</span><span class=op>:</span><span class=ot>NULL</span><span class=op>:</span><span class=dv>2</span>] </a>
<a class=sourceLine id=cb9-3 data-line-number=3>x[, <span class=st>`</span><span class=dt>2:</span><span class=st>`</span>] </a></code></pre></div><p><code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> also accepts <code>tf$newaxis</code> and <code><a href=../../tensorflow/reference/all_dims.html>all_dims()</a></code> as arguments</p><div class=sourceCode id=cb10><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb10-1 data-line-number=1>x[,, tf<span class=op>$</span>newaxis]</a>
<a class=sourceLine id=cb10-2 data-line-number=2>x[<span class=kw><a href=../../tensorflow/reference/all_dims.html>all_dims</a></span>(), <span class=dv>1</span>] <span class=co># all_dims expands to the shape of the tensor</span></a></code></pre></div><p>An important difference between extracting R arrays and tensorflow tensors with <code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> is how negative numbers are interpreted. For tensorflow tensors, negative numbers are interpreted as selecting elements by counting from tail (e.g, they are interpreted python-style).</p><div class=sourceCode id=cb11><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb11-1 data-line-number=1>x[<span class=op>-</span><span class=dv>1</span>,]  <span class=co># the last row</span></a></code></pre></div><p>Tensors are accepted by <code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> as well, but note that tensors suplied to <code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> are not translated from R to python. Meaning that tensors are interpreted as 0-based, and if slicing a range with <code>:</code>, then the returned arrays is exclusive of the upper bound.</p><div class=sourceCode id=cb12><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb12-1 data-line-number=1>x[, tf<span class=op>$</span><span class=kw>constant</span>(1L)] <span class=co># second column</span></a>
<a class=sourceLine id=cb12-2 data-line-number=2>x[, tf<span class=op>$</span><span class=kw>constant</span>(0L)<span class=op>:</span>tf<span class=op>$</span><span class=kw>constant</span>(2L)] <span class=co># first two columns</span></a></code></pre></div><p>If you are translating existing python code to R, note that you can set an option to have all <code><a href=https://rdrr.io/r/base/Extract.html>[</a></code> arguments be interpreted pure-python style by setting <code><a href=https://rdrr.io/r/base/options.html>options(tensorflow.extract.style = "python")</a></code>. See <code><a href=../../tensorflow/reference/sub-.tensorflow.tensor.html>?`[.tensorflow.tensor`</a></code> for additional options and details.</p></div></div><div id=shape class="section level2"><h2>Shape</h2><p>The <strong>shape</strong> of a tensor is the number of elements in each dimension.
TensorFlow automatically infers shapes during graph construction. These inferred
shapes might have known or unknown rank. If the rank is known, the sizes of each
dimension might be known or unknown.</p><p>The TensorFlow documentation uses three notational conventions to describe
tensor dimensionality: rank, shape, and dimension number. The following table
shows how these relate to one another:</p><table><thead><tr class=header><th>Rank</th><th>Shape</th><th>Dimension number</th><th>Example</th></tr></thead><tbody><tr class=odd><td>0</td><td>[]</td><td>0-D</td><td>A 0-D tensor. A scalar.</td></tr><tr class=even><td>1</td><td>[D0]</td><td>1-D</td><td>A 1-D tensor with shape [5].</td></tr><tr class=odd><td>2</td><td>[D0, D1]</td><td>2-D</td><td>A 2-D tensor with shape [3, 4].</td></tr><tr class=even><td>3</td><td>[D0, D1, D2]</td><td>3-D</td><td>A 3-D tensor with shape [1, 4, 3].</td></tr><tr class=odd><td>n</td><td>[D0, D1, … Dn-1]</td><td>n-D</td><td>A tensor with shape [D0, D1, … Dn-1].</td></tr></tbody></table><p>Shapes can be represented via lists of ints, or with the
<code>tf$TensorShape</code>.</p><div id=getting-a-tftensor-objects-shape class="section level3"><h3>Getting a <code>tf$Tensor</code> object’s shape</h3><p>There are two ways of accessing the shape of a <code>tf$Tensor</code>. While building the
graph, it is often useful to ask what is already known about a tensor’s
shape. This can be done by reading the <code>shape</code> property of a <code>tf$Tensor</code> object.
This method returns a <code>TensorShape</code> object, which is a convenient way of
representing partially-specified shapes (since, when building the graph, not all
shapes will be fully known).</p><p>It is also possible to get a <code>tf$Tensor</code> that will represent the fully-defined
shape of another <code>tf$Tensor</code> at runtime. This is done by calling the <code>tf$shape</code>
operation. This way, you can build a graph that manipulates the shapes of
tensors by building other tensors that depend on the dynamic shape of the input
<code>tf$Tensor</code>.</p><p>For example, here is how to make a vector of zeros with the same size as the
number of columns in a given matrix:</p><div class=sourceCode id=cb13><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb13-1 data-line-number=1>zeros &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>zeros</span>(my_image<span class=op>$</span>shape[<span class=dv>2</span>])</a></code></pre></div></div><div id=changing-the-shape-of-a-tftensor class="section level3"><h3>Changing the shape of a <code>tf$Tensor</code></h3><p>The <strong>number of elements</strong> of a tensor is the product of the sizes of all its
shapes. The number of elements of a scalar is always <code>1</code>. Since there are often
many different shapes that have the same number of elements, it’s often
convenient to be able to change the shape of a <code>tf.Tensor</code>, keeping its elements
fixed. This can be done with <code>tf.reshape</code>.</p><p>The following examples demonstrate how to reshape tensors:</p><div class=sourceCode id=cb14><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb14-1 data-line-number=1>rank_three_tensor &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>ones</span>(<span class=kw><a href=../../tensorflow/reference/shape.html>shape</a></span>(<span class=dv>3</span>, <span class=dv>4</span>, <span class=dv>5</span>))</a>
<a class=sourceLine id=cb14-2 data-line-number=2>matrix &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw><a href=https://rdrr.io/r/stats/reshape.html>reshape</a></span>(rank_three_tensor, <span class=kw><a href=../../tensorflow/reference/shape.html>shape</a></span>(<span class=dv>6</span>, <span class=dv>10</span>))  <span class=co># Reshape existing content into</span></a>
<a class=sourceLine id=cb14-3 data-line-number=3>                                                 <span class=co># a 6x10 matrix</span></a>
<a class=sourceLine id=cb14-4 data-line-number=4>matrixB &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw><a href=https://rdrr.io/r/stats/reshape.html>reshape</a></span>(matrix, <span class=kw><a href=../../tensorflow/reference/shape.html>shape</a></span>(<span class=dv>3</span>, <span class=dv>-1</span>))  <span class=co>#  Reshape existing content into a 3x20</span></a>
<a class=sourceLine id=cb14-5 data-line-number=5>                                       <span class=co># matrix. -1 tells reshape to calculate</span></a>
<a class=sourceLine id=cb14-6 data-line-number=6>                                       <span class=co># the size of this dimension.</span></a>
<a class=sourceLine id=cb14-7 data-line-number=7>matrixAlt &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw><a href=https://rdrr.io/r/stats/reshape.html>reshape</a></span>(matrixB, <span class=kw><a href=../../tensorflow/reference/shape.html>shape</a></span>(<span class=dv>4</span>, <span class=dv>3</span>, <span class=dv>-1</span>))  <span class=co># Reshape existing content into a</span></a>
<a class=sourceLine id=cb14-8 data-line-number=8>                                             <span class=co>#4x3x5 tensor</span></a>
<a class=sourceLine id=cb14-9 data-line-number=9></a>
<a class=sourceLine id=cb14-10 data-line-number=10><span class=co># Note that the number of elements of the reshaped Tensors has to match the</span></a>
<a class=sourceLine id=cb14-11 data-line-number=11><span class=co># original number of elements. Therefore, the following example generates an</span></a>
<a class=sourceLine id=cb14-12 data-line-number=12><span class=co># error because no possible value for the last dimension will match the number</span></a>
<a class=sourceLine id=cb14-13 data-line-number=13><span class=co># of elements.</span></a></code></pre></div></div></div><div id=data-types class="section level2"><h2>Data types</h2><p>In addition to dimensionality, Tensors have a data type. Refer to the
<code>tf$DType</code> page for a complete list of the data types.</p><p>It is not possible to have a <code>tf$Tensor</code> with more than one data type. It is
possible, however, to serialize arbitrary data structures as <code>string</code>s and store
those in <code>tf$Tensor</code>s.</p><p>It is possible to cast <code>tf$Tensor</code>s from one datatype to another using
<code>tf$cast</code>:</p><div class=sourceCode id=cb15><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb15-1 data-line-number=1><span class=co># Cast a constant integer tensor into floating point.</span></a>
<a class=sourceLine id=cb15-2 data-line-number=2>float_tensor &lt;-<span class=st> </span>tf<span class=op>$</span><span class=kw>cast</span>(tf<span class=op>$</span><span class=kw>constant</span>(<span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(1L, 2L, 3L)), <span class=dt>dtype=</span>tf<span class=op>$</span>float32)</a></code></pre></div><p>To inspect a <code>tf$Tensor</code>’s data type use the <code>Tensor.dtype</code> property.</p><p>When creating a <code>tf$Tensor</code> from an R object you may optionally specify the
datatype. If you don’t, TensorFlow chooses a datatype that can represent your
data. TensorFlow converts R integers to <code>tf$int32</code> and R floating
point numbers to <code>tf$float32</code>. Otherwise TensorFlow uses the same rules numpy
uses when converting to arrays.</p></div></div></div></div><footer>Copyright © 2015-2019 The TensorFlow Authors and RStudio, Inc.
<script type=text/javascript>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');_st('install','Ne8tbLfE121Pkj3xMr_G','2.0.0');</script></footer></div></div></body></html>