<!doctype html><html><head><script>theBaseUrl=location.origin+"/";</script><meta charset=utf-8><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1"><title>Training Visualization</title><meta name=generator content="Hugo 0.58.3"><meta name=description content="Documentation for the TensorFlow for R interface"><link rel=canonical href=../../../guide/keras/training_visualization/><meta name=author content="J.J. Allaire"><meta property=og:url content=/guide/keras/training_visualization/><meta property=og:title content="TensorFlow for R"><meta name=apple-mobile-web-app-title content="TensorFlow for R"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><style>@font-face{font-family:icon;src:url(fonts/icon.eot?52m981);src:url(fonts/icon.eot?#iefix52m981) format('embedded-opentype'),url(fonts/icon.woff?52m981) format('woff'),url(fonts/icon.ttf?52m981) format('truetype'),url(fonts/icon.svg?52m981#icon) format('svg');font-weight:400;font-style:normal}</style><link rel=stylesheet href=../../../css/style.css><link rel=stylesheet href=../../../css/site-styles.css><script src=../../../js/vendor.js></script><script src=../../../js/app.js></script><link rel="shortcut icon" href=../../../images/favicon.png><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body><div class=single-page><nav data-gumshoe-header aria-label=Header id=header class=top-menu><div class=left><a href=/ data-parenturl class="top-menu-item site-title">TensorFlow for R</a>
<span class=logo-from>from</span>
<a href=../../../><div id=logo class=logo></div></a></div><div class=right><div class=top-menu-items id=top-menu-items><a href=../../../ data-parenturl=/ class=top-menu-item>Home</a>
<a href=../../../installation/ data-parenturl=/installation/ class=top-menu-item>Installation</a>
<a href=../../../tutorials/ data-parenturl=/tutorials/ class=top-menu-item>Tutorials</a>
<a href=../../../guide/ data-parenturl=/guide/ class=top-menu-item>Guide</a>
<a href=../../../deploy/ data-parenturl=/deploy/ class=top-menu-item>Deploy</a>
<a href=../../../tools/ data-parenturl=/tools/ class=top-menu-item>Tools</a>
<a href=../../../reference/keras data-parenturl=/reference/keras class=top-menu-item>API</a>
<a href=../../../learn/resources/ data-parenturl=/learn/resources/ class=top-menu-item>Learn</a>
<a href=../../../blog.html data-parenturl=/blog.html class=top-menu-item>Blog</a></div><a href=https://github.com/rstudio/keras class=github-logo><i class="fa fa-lg fa-github" aria-hidden=true></i></a></div></nav><nav aria-label=Header id=mobile-header><a href=/>TensorFlow for R</a><div class=right><a href=https://github.com/rstudio/keras class=github-logo><i class="fa fa-lg fa-github" aria-hidden=true></i></a><div class=hamburger><i class="fa fa-lg fa-bars" aria-hidden=true></i></div></div></nav><div id=mobile-menu-container><ul id=mobile-menu><li><a href=../../../>Home</a></li><ul></ul><li><a href=../../../installation/>Installation</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../installation/>Installing TensorFlow</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../installation/>Quick start</a></li><li><a href=../../../installation/custom/>Custom Installation</a></li></ul><li><a href=../../../installation/gpu>Using a GPU</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../installation/gpu/>Overview</a></li><li><a href=../../../installation/gpu/local_gpu/>Local GPU</a></li><li><a href=../../../installation/gpu/cloud_server_gpu/>Cloud Server</a></li><li><a href=../../../installation/gpu/cloud_desktop_gpu/>Cloud Desktop</a></li></ul></ul><li><a href=../../../tutorials/>Tutorials</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tutorials/>Overview</a></li><li><a href>Beginners</a></li><li><a href=../../../tutorials/beginners/>Quickstart</a></li><li><a href=../../../tutorials/beginners/basic-ml/>Basic ML with Keras</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tutorials/beginners/basic-ml/>Overview</a></li><li><a href=../../../tutorials/beginners/basic-ml/tutorial_basic_classification/>Image Classification</a></li><li><a href=../../../tutorials/beginners/basic-ml/tutorial_basic_regression/>Regression</a></li><li><a href=../../../tutorials/beginners/basic-ml/tutorial_basic_text_classification/>Text Classification</a></li><li><a href=../../../tutorials/beginners/basic-ml/tutorial_basic_text_classification_with_tfhub/>Transfer learning with tfhub</a></li><li><a href=../../../tutorials/beginners/basic-ml/tutorial_overfit_underfit/>Overfitting and Underfitting</a></li><li><a href=../../../tutorials/beginners/basic-ml/tutorial_save_and_restore/>Save and Restore Models</a></li></ul><li><a href=../../../tutorials/beginners/load/load_csv/>Load and preprocess data</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tutorials/beginners/load/load_csv/>Load CSV data</a></li><li><a href=../../../tutorials/beginners/load/load_image/>Load image data</a></li></ul><li><a href>Advanced</a></li><li><a href=../../../tutorials/advanced/>Quickstart</a></li><li><a href=../../../tutorials/advanced/customization/tensors-operations/>Customization</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tutorials/advanced/customization/tensors-operations/>Tensors and operations</a></li><li><a href=../../../tutorials/advanced/customization/custom-layers/>Custom layers</a></li><li><a href=../../../tutorials/advanced/customization/autodiff/>Automatic differentiation</a></li><li><a href=../../../tutorials/advanced/customization/custom-training/>Custom training</a></li></ul><li><a href=../../../tutorials/advanced/images/cnn/>Images</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tutorials/advanced/images/cnn/>Convolutional Neural Network</a></li><li><a href=../../../tutorials/advanced/images/transfer-learning-hub/>Transfer Learning with tfhub</a></li></ul><li><a href=../../../tutorials/advanced/structured/classify/>Structured data</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tutorials/advanced/structured/classify/>Classify structured data</a></li></ul><li><a href=../../../tutorials/advanced/distributed/distributed_training_with_keras/>Distributed training</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tutorials/advanced/distributed/distributed_training_with_keras/>Distributed training with Keras</a></li></ul></ul><li><a href=../../../guide/>Guide</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/>Overview</a></li><li><a href>Keras</a></li><li><a href=../../../guide/keras/>Getting started</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/keras/>Overview</a></li><li><a href=../../../guide/keras/guide_keras/>Keras basics</a></li><li><a href=../../../guide/keras/sequential_model/>Sequential API</a></li><li><a href=../../../guide/keras/functional_api/>Functional API</a></li><li><a href=../../../guide/keras/saving_serializing/>Saving and serializing models</a></li><li><a href=../../../guide/keras/faq/>Frequently Asked Questions</a></li></ul><li><a href=../../../guide/keras/custom_layers/>Advanced</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/keras/custom_layers/>Custom Layers</a></li><li><a href=../../../guide/keras/custom_models/>Custom Models</a></li><li><a href=../../../guide/keras/training_callbacks/>Training Callbacks</a></li><li><a href=../../../guide/keras/applications/>Pre-Trained Models</a></li><li><a href=../../../guide/keras/training_visualization/>Training Visualization</a></li></ul><li><a href=../../../guide/keras/examples/>Examples</a></li><li><a href>TensorFlow Mechanics</a></li><li><a href=../../../guide/tensorflow/eager_execution>Basics</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/tensorflow/eager_execution/>Eager execution</a></li><li><a href=../../../guide/tensorflow/variable/>Variables</a></li><li><a href=../../../guide/tensorflow/tensors/>Tensors</a></li></ul><li><a href=../../../guide/tensorflow/ragged_tensors>Advanced</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/tensorflow/ragged_tensors/>Ragged tensors</a></li></ul><li><a href>Data input pipeline</a></li><li><a href=../../../guide/tfdatasets/introduction>Overview</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/tfdatasets/introduction/>Using Datasets</a></li></ul><li><a href=../../../guide/tfdatasets/feature_spec>Feature spec API</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/tfdatasets/feature_spec/>Feature Spec interface</a></li><li><a href=../../../guide/tfdatasets/feature_columns/>Feature columns</a></li></ul><li><a href>TensorFlow Hub</a></li><li><a href=../../../guide/tfhub/intro>Basics</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/tfhub/intro/>Overview</a></li><li><a href=../../../guide/tfhub/hub-with-keras/>Using with Keras</a></li></ul><li><a href=../../../guide/tfhub/key-concepts>Key concepts</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/tfhub/key-concepts/>Key Concepts</a></li></ul><li><a href>Model saving</a></li><li><a href=../../../guide/saving/checkpoints>Checkpoints</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/saving/checkpoints/>Checkpoints</a></li></ul><li><a href=../../../guide/saving/saved_model>Saved Model</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../guide/saving/saved_model/>Saved Model</a></li></ul></ul><li><a href=../../../deploy/>Deploy</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../deploy/>Overview</a></li><li><a href=../../../deploy/plumber/>Plumber</a></li><li><a href=../../../deploy/shiny/>Shiny</a></li><li><a href=../../../deploy/docker/>TensorFlow Serving</a></li><li><a href=../../../deploy/rsconnect/>RStudio Connect</a></li></ul><li><a href=../../../tools/>Tools</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tools/>Overview</a></li><li><a href=../../../tools/tfruns/>Training Runs</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../tools/tfruns/overview/>Introduction to tfruns</a></li><li><a href=../../../tools/tfruns/tuning/>Hyperparameter Tuning</a></li><li><a href=../../../tools/tfruns/managing/>Managing Training Runs</a></li></ul><li><a href=../../../tools/tensorboard/tensorboard/>TensorBoard</a></li></ul><li><a href=../../../reference/keras>API</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../reference/keras/>keras</a></li><li><a href=../../../reference/tensorflow/>tensorflow</a></li><li><a href=../../../reference/tfdatasets/>tfdatasets</a></li><li><a href=../../../reference/tfruns/>tfruns</a></li></ul><li><a href=../../../learn/resources/>Learn</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=../../../learn/resources/>Resources</a></li></ul><li><a href=../../../blog.html>Blog</a></li><ul></ul></ul></div><div id=search-bar class=search-bar><p class=search-bar__icon><i class="fa fa-lg fa-search"></i></p><div class=search-bar__input><input type=text name=search class=st-default-search-input></div><div class=search-bar__exit><i class="fa fa-lg fa-times"></i></div><div class=inline-search-results><ul></ul></div></div></div><div class="page documentation"><div class=side-menu id=side-menu><ul class=side-menu-list data-parenturl=/ style=display:none></ul><ul class=side-menu-list data-parenturl=/installation/ style=display:none><li class=side-menu__item><a href=../../../installation/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Installing TensorFlow</p></a></li><li class=side-menu__item><a href=../../../installation/gpu class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Using a GPU</p></a></li></ul><ul class=side-menu-list data-parenturl=/tutorials/ style=display:none><li class=side-menu__item><a href=../../../tutorials/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Beginners</p></span></li><li class=side-menu__item><a href=../../../tutorials/beginners/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Quickstart</p></a></li><li class=side-menu__item><a href=../../../tutorials/beginners/basic-ml/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basic ML with Keras</p></a></li><li class=side-menu__item><a href=../../../tutorials/beginners/load/load_csv/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Load and preprocess data</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Advanced</p></span></li><li class=side-menu__item><a href=../../../tutorials/advanced/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Quickstart</p></a></li><li class=side-menu__item><a href=../../../tutorials/advanced/customization/tensors-operations/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Customization</p></a></li><li class=side-menu__item><a href=../../../tutorials/advanced/images/cnn/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Images</p></a></li><li class=side-menu__item><a href=../../../tutorials/advanced/structured/classify/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Structured data</p></a></li><li class=side-menu__item><a href=../../../tutorials/advanced/distributed/distributed_training_with_keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Distributed training</p></a></li></ul><ul class=side-menu-list data-parenturl=/guide/ style=display:none><li class=side-menu__item><a href=../../../guide/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Keras</p></span></li><li class=side-menu__item><a href=../../../guide/keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Getting started</p></a></li><li class="side-menu__item active"><a href=../../../guide/keras/custom_layers/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Advanced</p></a><ul class=side-menu__sub><span style=display:none>guide</span><li class=side-menu__sub__item><a id=menu-link-/guide/keras/custom_layers/ class=side-menu__sub__item__text href=../../../guide/keras/custom_layers/ data-url=/guide/keras/custom_layers/>Custom Layers</a></li><span style=display:none>guide</span><li class=side-menu__sub__item><a id=menu-link-/guide/keras/custom_models/ class=side-menu__sub__item__text href=../../../guide/keras/custom_models/ data-url=/guide/keras/custom_models/>Custom Models</a></li><span style=display:none>guide</span><li class=side-menu__sub__item><a id=menu-link-/guide/keras/training_callbacks/ class=side-menu__sub__item__text href=../../../guide/keras/training_callbacks/ data-url=/guide/keras/training_callbacks/>Training Callbacks</a></li><span style=display:none>guide</span><li class=side-menu__sub__item><a id=menu-link-/guide/keras/applications/ class=side-menu__sub__item__text href=../../../guide/keras/applications/ data-url=/guide/keras/applications/>Pre-Trained Models</a></li><span style=display:none>guide</span><li class="side-menu__sub__item active"><a id=menu-link-/guide/keras/training_visualization/ class=side-menu__sub__item__text href=../../../guide/keras/training_visualization/ data-url=/guide/keras/training_visualization/>Training Visualization</a></li></ul></li><li class=side-menu__item><a href=../../../guide/keras/examples/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Examples</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">TensorFlow Mechanics</p></span></li><li class=side-menu__item><a href=../../../guide/tensorflow/eager_execution class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basics</p></a></li><li class=side-menu__item><a href=../../../guide/tensorflow/ragged_tensors class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Advanced</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Data input pipeline</p></span></li><li class=side-menu__item><a href=../../../guide/tfdatasets/introduction class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=../../../guide/tfdatasets/feature_spec class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Feature spec API</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">TensorFlow Hub</p></span></li><li class=side-menu__item><a href=../../../guide/tfhub/intro class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basics</p></a></li><li class=side-menu__item><a href=../../../guide/tfhub/key-concepts class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Key concepts</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Model saving</p></span></li><li class=side-menu__item><a href=../../../guide/saving/checkpoints class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Checkpoints</p></a></li><li class=side-menu__item><a href=../../../guide/saving/saved_model class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Saved Model</p></a></li></ul><ul class=side-menu-list data-parenturl=/deploy/ style=display:none><li class=side-menu__item><a href=../../../deploy/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=../../../deploy/plumber/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Plumber</p></a></li><li class=side-menu__item><a href=../../../deploy/shiny/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Shiny</p></a></li><li class=side-menu__item><a href=../../../deploy/docker/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>TensorFlow Serving</p></a></li><li class=side-menu__item><a href=../../../deploy/rsconnect/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>RStudio Connect</p></a></li></ul><ul class=side-menu-list data-parenturl=/tools/ style=display:none><li class=side-menu__item><a href=../../../tools/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=../../../tools/tfruns/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Training Runs</p></a></li><li class=side-menu__item><a href=../../../tools/tensorboard/tensorboard/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>TensorBoard</p></a></li></ul><ul class=side-menu-list data-parenturl=/reference/keras style=display:none><li class=side-menu__item><a href=../../../reference/keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>keras</p></a></li><li class=side-menu__item><a href=../../../reference/tensorflow/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>tensorflow</p></a></li><li class=side-menu__item><a href=../../../reference/tfdatasets/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>tfdatasets</p></a></li><li class=side-menu__item><a href=../../../reference/tfruns/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>tfruns</p></a></li></ul><ul class=side-menu-list data-parenturl=/learn/resources/ style=display:none><li class=side-menu__item><a href=../../../learn/resources/ class=side-menu__item__link><img class=side-menu__item__link__icon src=../../../images/icons/block-retina.png alt><p class=side-menu__item__link__text>Resources</p></a></li></ul><ul class=side-menu-list data-parenturl=/blog.html style=display:none></ul></div><div class=content><h1 class=content-header>Training Visualization</h1><div class=markdowned><div class=doc-page><div class=doc-page-index><ul id=gumshoe-container data-gumshoe></ul></div><div class=doc-page-body><div id=overview class="section level2"><h2>Overview</h2><p>There are a number of tools available for visualizing the training of Keras models, including:</p><ol style=list-style-type:decimal><li><p>A <a href=https://keras.rstudio.com/reference/plot.keras_training_history.html>plot method</a> for the Keras training history returned from <code>fit()</code>.</p></li><li><p>Real time visualization of training metrics within the RStudio IDE.</p></li><li><p>Integration with the <a href=https://www.tensorflow.org/get_started/summaries_and_tensorboard>TensorBoard</a> visualization tool included with TensorFlow. Beyond just training metrics, TensorBoard has a wide variety of other visualizations available including the underlying TensorFlow graph, gradient histograms, model weights, and more. TensorBoard also enables you to compare metrics across multiple training runs.</p></li></ol><p>Each of these tools is described in more detail below.</p></div><div id=plotting-history class="section level2"><h2>Plotting History</h2><p>The Keras <code>fit()</code> method returns an R object containing the training history, including the value of metrics at the end of each epoch . You can plot the training metrics by epoch using the <code><a href=https://rdrr.io/r/graphics/plot.html>plot()</a></code> method.</p><p>For example, here we compile and fit a model with the “accuracy” metric:</p><div class=sourceCode id=cb1><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb1-1 data-line-number=1>model <span class=op>%&gt;%</span><span class=st> </span><span class=kw>compile</span>(</a>
<a class=sourceLine id=cb1-2 data-line-number=2>  <span class=dt>loss =</span> <span class=st>'categorical_crossentropy'</span>,</a>
<a class=sourceLine id=cb1-3 data-line-number=3>  <span class=dt>optimizer =</span> <span class=kw>optimizer_rmsprop</span>(),</a>
<a class=sourceLine id=cb1-4 data-line-number=4>  <span class=dt>metrics =</span> <span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=st>'accuracy'</span>)</a>
<a class=sourceLine id=cb1-5 data-line-number=5>)</a>
<a class=sourceLine id=cb1-6 data-line-number=6></a>
<a class=sourceLine id=cb1-7 data-line-number=7>history &lt;-<span class=st> </span>model <span class=op>%&gt;%</span><span class=st> </span><span class=kw>fit</span>(</a>
<a class=sourceLine id=cb1-8 data-line-number=8>  x_train, y_train, </a>
<a class=sourceLine id=cb1-9 data-line-number=9>  <span class=dt>epochs =</span> <span class=dv>30</span>, <span class=dt>batch_size =</span> <span class=dv>128</span>, </a>
<a class=sourceLine id=cb1-10 data-line-number=10>  <span class=dt>validation_split =</span> <span class=fl>0.2</span></a>
<a class=sourceLine id=cb1-11 data-line-number=11>)</a></code></pre></div><p>We can then plot the training history as follows:</p><div class=sourceCode id=cb2><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb2-1 data-line-number=1><span class=kw><a href=https://rdrr.io/r/graphics/plot.html>plot</a></span>(history)</a></code></pre></div><p><img src=../images/training_history_ggplot2.png class=r-plot width=757 height=489></p><p>The history will be plotted using <a href=http://ggplot2.tidyverse.org/>ggplot2</a> if available (if not then base graphics will be used), include all specified metrics as well as the loss, and draw a smoothing line if there are 10 or more epochs. You can customize all of this behavior via various options of the <a href=https://keras.rstudio.com/reference/plot.keras_training_history.html>plot method</a>.</p><p>If you want to create a custom visualization you can call the <code><a href=https://rdrr.io/r/base/as.data.frame.html>as.data.frame()</a></code> method on the history to obtain a data frame with factors for each metric as well as training vs. validation:</p><div class=sourceCode id=cb3><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb3-1 data-line-number=1>history_df &lt;-<span class=st> </span><span class=kw><a href=https://rdrr.io/r/base/as.data.frame.html>as.data.frame</a></span>(history)</a>
<a class=sourceLine id=cb3-2 data-line-number=2><span class=kw><a href=https://rdrr.io/r/utils/str.html>str</a></span>(history_df)</a></code></pre></div><pre><code>'data.frame':   120 obs. of  4 variables:
 $ epoch : int  1 2 3 4 5 6 7 8 9 10 ...
 $ value : num  0.87 0.941 0.954 0.962 0.965 ...
 $ metric: Factor w/ 2 levels "acc","loss": 1 1 1 1 1 1 1 1 1 1 ...
 $ data  : Factor w/ 2 levels "training","validation": 1 1 1 1 1 1 1 1 1 1 ...</code></pre></div><div id=rstudio-ide class="section level2"><h2>RStudio IDE</h2><p>If you are training your model within the RStudio IDE then real time metrics are available within the Viewer pane:</p><a id=rstudiohistory href=https://rstudioblog.files.wordpress.com/2017/08/rstudio-training-metrics-full.gif></a><script type=application/javascript>function isMobilePhone(){try{return!window.matchMedia("only screen and (min-width: 768px)").matches;}
catch(e){return false;}}
var a=document.getElementById("rstudiohistory");var img=document.createElement("IMG");img.className="r-plot";img.width=640;img.height=502;if(!isMobilePhone()){img.src="https://i1.wp.com/rstudioblog.files.wordpress.com/2017/08/rstudio-training-metrics.gif";}else{a.href='';img.src="https://i0.wp.com/rstudioblog.files.wordpress.com/2017/08/rstudio-training-metrics-mobile.png";}
a.appendChild(img);</script><p>The <code>view_metrics</code> argument of the <code>fit()</code> method controls whether real time metrics are displayed. By default metrics are automatically displayed if one or more metrics are specified in the call to <code>compile()</code> and there is more than one training epoch.</p><p>You can explicitly control whether metrics are displayed by specifying the <code>view_metrics</code> argument. You can also set a global session default using the <code>keras.view_metrics</code> option:</p><div class=sourceCode id=cb5><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb5-1 data-line-number=1><span class=co># don't show metrics during this run</span></a>
<a class=sourceLine id=cb5-2 data-line-number=2>history &lt;-<span class=st> </span>model <span class=op>%&gt;%</span><span class=st> </span><span class=kw>fit</span>(</a>
<a class=sourceLine id=cb5-3 data-line-number=3>  x_train, y_train, </a>
<a class=sourceLine id=cb5-4 data-line-number=4>  <span class=dt>epochs =</span> <span class=dv>30</span>, <span class=dt>batch_size =</span> <span class=dv>128</span>, </a>
<a class=sourceLine id=cb5-5 data-line-number=5>  <span class=dt>view_metrics =</span> <span class=ot>FALSE</span>,</a>
<a class=sourceLine id=cb5-6 data-line-number=6>  <span class=dt>validation_split =</span> <span class=fl>0.2</span></a>
<a class=sourceLine id=cb5-7 data-line-number=7>)</a>
<a class=sourceLine id=cb5-8 data-line-number=8></a>
<a class=sourceLine id=cb5-9 data-line-number=9><span class=co># set global default to never show metrics</span></a>
<a class=sourceLine id=cb5-10 data-line-number=10><span class=kw><a href=https://rdrr.io/r/base/options.html>options</a></span>(<span class=dt>keras.view_metrics =</span> <span class=ot>FALSE</span>)</a></code></pre></div><p>Note that when <code>view_metrics</code> is <code>TRUE</code> metrics will be displayed even when not running within RStudio (in that case metrics will be displayed in an external web browser).</p></div><div id=tensorboard class="section level2"><h2>TensorBoard</h2><p>TensorBoard is a visualization tool included with TensorFlow that enables you to visualize dynamic graphs of your Keras training and test metrics, as well as activation histograms for the different layers in your model.</p><p>For example, here’s a TensorBoard display for Keras accuracy and loss metrics:</p><p><img src=../images/tensorboard.png class=screenshot width=700 height=545></p><div id=recording-data class="section level3"><h3>Recording Data</h3><p>To record data that can be visualized with TensorBoard, you add a TensorBoard callback to the <code>fit()</code> function. For example:</p><div class=sourceCode id=cb6><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb6-1 data-line-number=1>history &lt;-<span class=st> </span>model <span class=op>%&gt;%</span><span class=st> </span><span class=kw>fit</span>(</a>
<a class=sourceLine id=cb6-2 data-line-number=2>  x_train, y_train,</a>
<a class=sourceLine id=cb6-3 data-line-number=3>  <span class=dt>batch_size =</span> batch_size,</a>
<a class=sourceLine id=cb6-4 data-line-number=4>  <span class=dt>epochs =</span> epochs,</a>
<a class=sourceLine id=cb6-5 data-line-number=5>  <span class=dt>verbose =</span> <span class=dv>1</span>,</a>
<a class=sourceLine id=cb6-6 data-line-number=6>  <span class=dt>callbacks =</span> <span class=kw>callback_tensorboard</span>(<span class=st>"logs/run_a"</span>),</a>
<a class=sourceLine id=cb6-7 data-line-number=7>  <span class=dt>validation_split =</span> <span class=fl>0.2</span></a>
<a class=sourceLine id=cb6-8 data-line-number=8>)</a></code></pre></div><p>See the documentation on the <code>callback_tensorboard()</code> function for the various available options. The most important option is the <code>log_dir</code>, which determines which directory logs are written to for a given training run.</p><p>You should either use a distinct log directory for each training run or remove the log directory between runs.</p></div><div id=viewing-data class="section level3"><h3>Viewing Data</h3><p>To view TensorBoard data for a given set of runs you use the <code>tensorboard()</code> function, pointing it to the previously specified <code>log_dir</code>:</p><div class=sourceCode id=cb7><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb7-1 data-line-number=1><span class=kw>tensorboard</span>(<span class=st>"logs/run_a"</span>)</a></code></pre></div><p>It’s often useful to run TensorBoard while you are training a model. To do this, simply launch tensorboard within the training directory right before you begin training:</p><div class=sourceCode id=cb8><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb8-1 data-line-number=1><span class=co># launch TensorBoard (data won't show up until after the first epoch)</span></a>
<a class=sourceLine id=cb8-2 data-line-number=2><span class=kw>tensorboard</span>(<span class=st>"logs/run_a"</span>)</a>
<a class=sourceLine id=cb8-3 data-line-number=3></a>
<a class=sourceLine id=cb8-4 data-line-number=4><span class=co># fit the model with the TensorBoard callback</span></a>
<a class=sourceLine id=cb8-5 data-line-number=5>history &lt;-<span class=st> </span>model <span class=op>%&gt;%</span><span class=st> </span><span class=kw>fit</span>(</a>
<a class=sourceLine id=cb8-6 data-line-number=6>  x_train, y_train,</a>
<a class=sourceLine id=cb8-7 data-line-number=7>  <span class=dt>batch_size =</span> batch_size,</a>
<a class=sourceLine id=cb8-8 data-line-number=8>  <span class=dt>epochs =</span> epochs,</a>
<a class=sourceLine id=cb8-9 data-line-number=9>  <span class=dt>verbose =</span> <span class=dv>1</span>,</a>
<a class=sourceLine id=cb8-10 data-line-number=10>  <span class=dt>callbacks =</span> <span class=kw>callback_tensorboard</span>(<span class=st>"logs/run_a"</span>),</a>
<a class=sourceLine id=cb8-11 data-line-number=11>  <span class=dt>validation_split =</span> <span class=fl>0.2</span></a>
<a class=sourceLine id=cb8-12 data-line-number=12>)</a></code></pre></div><p>Keras writes TensorBoard data at the end of each epoch so you won’t see any data in TensorBoard until 10-20 seconds after the end of the first epoch (TensorBoard automatically refreshes it’s display every 30 seconds during training).</p></div><div id=comparing-runs class="section level3"><h3>Comparing Runs</h3><p>TensorBoard will automatically include all runs logged within the sub-directories of the specified <code>log_dir</code>, for example, if you logged another run using:</p><div class=sourceCode id=cb9><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb9-1 data-line-number=1><span class=kw>callback_tensorboard</span>(<span class=dt>log_dir =</span> <span class=st>"logs/run_b"</span>)</a></code></pre></div><p>Then called tensorboard as follows:</p><div class=sourceCode id=cb10><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb10-1 data-line-number=1><span class=kw>tensorboard</span>(<span class=st>"logs"</span>)</a></code></pre></div><p>The TensorBoard visualization would look like this:</p><p><img src=../images/tensorboard_compare.png class=screenshot width=700 height=540></p><p>You can also pass multiple log directories. For example:</p><div class=sourceCode id=cb11><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb11-1 data-line-number=1><span class=kw>tensorboard</span>(<span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=st>"logs/run_a"</span>, <span class=st>"logs/run_b"</span>))</a></code></pre></div></div><div id=customization class="section level3"><h3>Customization</h3><div id=metrics class="section level4"><h4>Metrics</h4><p>In the above examples TensorBoard metrics are logged for loss and accuracy. The TensorBoard callback will log data for any metrics which are specified in the <code>metrics</code> parameter of the <code>compile()</code> function. For example, in the following code:</p><div class=sourceCode id=cb12><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb12-1 data-line-number=1>model <span class=op>%&gt;%</span><span class=st> </span><span class=kw>compile</span>(</a>
<a class=sourceLine id=cb12-2 data-line-number=2>  <span class=dt>loss =</span> <span class=st>'mean_squared_error'</span>,</a>
<a class=sourceLine id=cb12-3 data-line-number=3>  <span class=dt>optimizer =</span> <span class=st>'sgd'</span>,</a>
<a class=sourceLine id=cb12-4 data-line-number=4>  <span class=dt>metrics=</span> <span class=kw><a href=https://rdrr.io/r/base/c.html>c</a></span>(<span class=st>'mae'</span>, <span class=st>'acc'</span>)</a>
<a class=sourceLine id=cb12-5 data-line-number=5>)</a></code></pre></div><p>TensorBoard data series will be created for the loss (mean squared error) as well as for the mean absolute error and accuracy metrics.</p></div><div id=options class="section level4"><h4>Options</h4><p>The <code>callback_tensorboard()</code> function includes a number of other options that control logging during training:</p><div class=sourceCode id=cb13><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb13-1 data-line-number=1><span class=kw>callback_tensorboard</span>(<span class=dt>log_dir =</span> <span class=st>"logs"</span>, <span class=dt>histogram_freq =</span> <span class=dv>0</span>,</a>
<a class=sourceLine id=cb13-2 data-line-number=2>  <span class=dt>write_graph =</span> <span class=ot>TRUE</span>, <span class=dt>write_images =</span> <span class=ot>FALSE</span>, <span class=dt>embeddings_freq =</span> <span class=dv>0</span>,</a>
<a class=sourceLine id=cb13-3 data-line-number=3>  <span class=dt>embeddings_layer_names =</span> <span class=ot>NULL</span>, <span class=dt>embeddings_metadata =</span> <span class=ot>NULL</span>)</a></code></pre></div><table><col width=20%><col width=79%><thead><tr class=header><th>Name</th><th>Description</th></tr></thead><tbody><tr class=odd><td><code>log_dir</code></td><td>Path of the directory to save the log files to be parsed by Tensorboard.</td></tr><tr class=even><td><code>histogram_freq</code></td><td>Frequency (in epochs) at which to compute activation histograms for the layers of the model. If set to 0 (the default), histograms won’t be computed.</td></tr><tr class=odd><td><code>write_graph</code></td><td>Whether to visualize the graph in Tensorboard. The log file can become quite large when write_graph is set to <code>TRUE</code></td></tr><tr class=even><td><code>write_images</code></td><td>Whether to write model weights to visualize as image in Tensorboard.</td></tr><tr class=odd><td><code>embeddings_freq</code></td><td>Frequency (in epochs) at which selected embedding layers will be saved.</td></tr><tr class=even><td><code>embeddings_layer_names</code></td><td>A list of names of layers to keep eye on. If <code>NULL</code> or empty list all the embedding layers will be watched.</td></tr><tr class=odd><td><code>embeddings_metadata</code></td><td>A named list which maps layer name to a file name in which metadata for this embedding layer is saved. See the <a href=https://www.tensorflow.org/how_tos/embedding_viz/#metadata_optional>details</a> about the metadata file format. In case if the same metadata file is used for all embedding layers, string can be passed.</td></tr></tbody></table></div></div></div></div></div></div><footer>Copyright © 2015-2019 The TensorFlow Authors and RStudio, Inc.
<script type=text/javascript>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');_st('install','Ne8tbLfE121Pkj3xMr_G','2.0.0');</script></footer></div></div></body></html>