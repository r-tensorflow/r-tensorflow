<!doctype html><html><head><script>theBaseUrl=location.origin+"/";</script><meta charset=utf-8><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1"><title>Local GPU</title><meta name=generator content="Hugo 0.58.3"><meta name=description content="Documentation for the TensorFlow for R interface"><link rel=canonical href=/installation/gpu/local_gpu/><meta name=author content="J.J. Allaire"><meta property=og:url content=/installation/gpu/local_gpu/><meta property=og:title content="TensorFlow for R"><meta name=apple-mobile-web-app-title content="TensorFlow for R"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><style>@font-face{font-family:icon;src:url(fonts/icon.eot?52m981);src:url(fonts/icon.eot?#iefix52m981) format('embedded-opentype'),url(fonts/icon.woff?52m981) format('woff'),url(fonts/icon.ttf?52m981) format('truetype'),url(fonts/icon.svg?52m981#icon) format('svg');font-weight:400;font-style:normal}</style><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/site-styles.css><script src=/js/vendor.js></script><script src=/js/app.js></script><link rel="shortcut icon" href=/images/favicon.png><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body><div class=single-page><nav data-gumshoe-header aria-label=Header id=header class=top-menu><div class=left><a href=/ data-parenturl class="top-menu-item site-title">TensorFlow for R</a>
<span class=logo-from>from</span>
<a href=/><div id=logo class=logo></div></a></div><div class=right><div class=top-menu-items id=top-menu-items><a href=/ data-parenturl=/ class=top-menu-item>Home</a>
<a href=/installation/ data-parenturl=/installation/ class=top-menu-item>Installation</a>
<a href=/tutorials/ data-parenturl=/tutorials/ class=top-menu-item>Tutorials</a>
<a href=/guide/ data-parenturl=/guide/ class=top-menu-item>Guide</a>
<a href=/deploy/ data-parenturl=/deploy/ class=top-menu-item>Deploy</a>
<a href=/tools/ data-parenturl=/tools/ class=top-menu-item>Tools</a>
<a href=/reference/keras data-parenturl=/reference/keras class=top-menu-item>API</a>
<a href=/learn/resources/ data-parenturl=/learn/resources/ class=top-menu-item>Learn</a>
<a href=/blog.html data-parenturl=/blog.html class=top-menu-item>Blog</a></div><a href=https://github.com/rstudio/tensorflow class=github-logo><i class="fa fa-lg fa-github" aria-hidden=true></i></a><div class=search-button><i class="fa fa-lg fa-search"></i></div></div></nav><nav aria-label=Header id=mobile-header><a href=/>TensorFlow for R</a><div class=right><a href=https://github.com/rstudio/tensorflow class=github-logo><i class="fa fa-lg fa-github" aria-hidden=true></i></a><div class=hamburger><i class="fa fa-lg fa-bars" aria-hidden=true></i></div></div></nav><div id=mobile-menu-container><ul id=mobile-menu><li><a href=/>Home</a></li><ul></ul><li><a href=/installation/>Installation</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/installation/>Installing TensorFlow</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/installation/>Quick start</a></li><li><a href=/installation/custom/>Custom Installation</a></li></ul><li><a href=/installation/gpu>Using a GPU</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/installation/gpu/>Overview</a></li><li><a href=/installation/gpu/local_gpu/>Local GPU</a></li><li><a href=/installation/gpu/cloud_server_gpu/>Cloud Server</a></li><li><a href=/installation/gpu/cloud_desktop_gpu/>Cloud Desktop</a></li></ul></ul><li><a href=/tutorials/>Tutorials</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/>Overview</a></li><li><a href>Beginners</a></li><li><a href=/tutorials/beginners/>Quickstart</a></li><li><a href=/tutorials/beginners/basic-ml/>Basic ML with Keras</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/beginners/basic-ml/>Overview</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_basic_classification/>Image Classification</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_basic_regression/>Regression</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_basic_text_classification/>Text Classification</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_basic_text_classification_with_tfhub/>Transfer learning with tfhub</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_overfit_underfit/>Overfitting and Underfitting</a></li><li><a href=/tutorials/beginners/basic-ml/tutorial_save_and_restore/>Save and Restore Models</a></li></ul><li><a href=/tutorials/beginners/load/load_csv/>Load and preprocess data</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/beginners/load/load_csv/>Load CSV data</a></li><li><a href=/tutorials/beginners/load/load_image/>Load image data</a></li></ul><li><a href>Advanced</a></li><li><a href=/tutorials/advanced/>Quickstart</a></li><li><a href=/tutorials/advanced/customization/tensors-operations/>Customization</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/advanced/customization/tensors-operations/>Tensors and operations</a></li><li><a href=/tutorials/advanced/customization/custom-layers/>Custom layers</a></li><li><a href=/tutorials/advanced/customization/autodiff/>Automatic differentiation</a></li><li><a href=/tutorials/advanced/customization/custom-training/>Custom training</a></li></ul><li><a href=/tutorials/advanced/images/cnn/>Images</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/advanced/images/cnn/>Convolutional Neural Network</a></li><li><a href=/tutorials/advanced/images/transfer-learning-hub/>Transfer Learning with tfhub</a></li></ul><li><a href=/tutorials/advanced/structured/classify/>Structured data</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/advanced/structured/classify/>Classify structured data</a></li></ul><li><a href=/tutorials/advanced/distributed/distributed_training_with_keras/>Distributed training</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tutorials/advanced/distributed/distributed_training_with_keras/>Distributed training with Keras</a></li></ul></ul><li><a href=/guide/>Guide</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/>Overview</a></li><li><a href>Keras</a></li><li><a href=/guide/keras/>Getting started</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/keras/>Overview</a></li><li><a href=/guide/keras/guide_keras/>Keras basics</a></li><li><a href=/guide/keras/sequential_model/>Sequential API</a></li><li><a href=/guide/keras/functional_api/>Functional API</a></li><li><a href=/guide/keras/saving_serializing/>Saving and serializing models</a></li><li><a href=/guide/keras/faq/>Frequently Asked Questions</a></li></ul><li><a href=/guide/keras/custom_layers/>Advanced</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/keras/custom_layers/>Custom Layers</a></li><li><a href=/guide/keras/custom_models/>Custom Models</a></li><li><a href=/guide/keras/training_callbacks/>Training Callbacks</a></li><li><a href=/guide/keras/applications/>Pre-Trained Models</a></li><li><a href=/guide/keras/training_visualization/>Training Visualization</a></li></ul><li><a href=/guide/keras/examples/>Examples</a></li><li><a href>TensorFlow Mechanics</a></li><li><a href=/guide/tensorflow/eager_execution>Basics</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tensorflow/eager_execution/>Eager execution</a></li><li><a href=/guide/tensorflow/variable/>Variables</a></li><li><a href=/guide/tensorflow/tensors/>Tensors</a></li></ul><li><a href=/guide/tensorflow/ragged_tensors>Advanced</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tensorflow/ragged_tensors/>Ragged tensors</a></li></ul><li><a href>Data input pipeline</a></li><li><a href=/guide/tfdatasets/introduction>Overview</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tfdatasets/introduction/>Using Datasets</a></li></ul><li><a href=/guide/tfdatasets/feature_spec>Feature spec API</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tfdatasets/feature_spec/>Feature Spec interface</a></li><li><a href=/guide/tfdatasets/feature_columns/>Feature columns</a></li></ul><li><a href>TensorFlow Hub</a></li><li><a href=/guide/tfhub/intro>Basics</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tfhub/intro/>Overview</a></li><li><a href=/guide/tfhub/hub-with-keras/>Using with Keras</a></li></ul><li><a href=/guide/tfhub/key-concepts>Key concepts</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/tfhub/key-concepts/>Key Concepts</a></li></ul><li><a href=/guide/tfhub/examples/>Examples</a></li><li><a href>Model saving</a></li><li><a href=/guide/saving/checkpoints>Checkpoints</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/saving/checkpoints/>Checkpoints</a></li></ul><li><a href=/guide/saving/saved_model>Saved Model</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/guide/saving/saved_model/>Saved Model</a></li></ul></ul><li><a href=/deploy/>Deploy</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/deploy/>Overview</a></li><li><a href=/deploy/plumber/>Plumber</a></li><li><a href=/deploy/shiny/>Shiny</a></li><li><a href=/deploy/docker/>TensorFlow Serving</a></li><li><a href=/deploy/rsconnect/>RStudio Connect</a></li></ul><li><a href=/tools/>Tools</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tools/>Overview</a></li><li><a href=/tools/tfruns/>Training Runs</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/tools/tfruns/overview/>Introduction to tfruns</a></li><li><a href=/tools/tfruns/tuning/>Hyperparameter Tuning</a></li><li><a href=/tools/tfruns/managing/>Managing Training Runs</a></li></ul><li><a href=/tools/tensorboard/tensorboard/>TensorBoard</a></li></ul><li><a href=/reference/keras>API</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/reference/keras/>keras</a></li><li><a href=/reference/tensorflow/>tensorflow</a></li><li><a href=/reference/tfdatasets/>tfdatasets</a></li><li><a href=/reference/tfruns/>tfruns</a></li></ul><li><a href=/learn/resources/>Learn</a>
<i class="fa fa-chevron-right" aria-hidden=true></i></li><ul><li><a href=/learn/resources/>Resources</a></li></ul><li><a href=/blog.html>Blog</a></li><ul></ul></ul></div><div id=search-bar class=search-bar><p class=search-bar__icon><i class="fa fa-lg fa-search"></i></p><div class=search-bar__input><input type=text name=search class=st-default-search-input></div><div class=search-bar__exit><i class="fa fa-lg fa-times"></i></div><div class=inline-search-results><ul></ul></div></div></div><div class="page documentation"><div class=side-menu id=side-menu><ul class=side-menu-list data-parenturl=/ style=display:none></ul><ul class=side-menu-list data-parenturl=/installation/ style=display:none><li class=side-menu__item><a href=/installation/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Installing TensorFlow</p></a></li><li class="side-menu__item active"><a href=/installation/gpu class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Using a GPU</p></a><ul class=side-menu__sub><span style=display:none>installation</span><li class=side-menu__sub__item><a id=menu-link-/installation/gpu/ class=side-menu__sub__item__text href=/installation/gpu/ data-url=/installation/gpu/>Overview</a></li><span style=display:none>installation</span><li class="side-menu__sub__item active"><a id=menu-link-/installation/gpu/local_gpu/ class=side-menu__sub__item__text href=/installation/gpu/local_gpu/ data-url=/installation/gpu/local_gpu/>Local GPU</a></li><span style=display:none>installation</span><li class=side-menu__sub__item><a id=menu-link-/installation/gpu/cloud_server_gpu/ class=side-menu__sub__item__text href=/installation/gpu/cloud_server_gpu/ data-url=/installation/gpu/cloud_server_gpu/>Cloud Server</a></li><span style=display:none>installation</span><li class=side-menu__sub__item><a id=menu-link-/installation/gpu/cloud_desktop_gpu/ class=side-menu__sub__item__text href=/installation/gpu/cloud_desktop_gpu/ data-url=/installation/gpu/cloud_desktop_gpu/>Cloud Desktop</a></li></ul></li></ul><ul class=side-menu-list data-parenturl=/tutorials/ style=display:none><li class=side-menu__item><a href=/tutorials/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Beginners</p></span></li><li class=side-menu__item><a href=/tutorials/beginners/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Quickstart</p></a></li><li class=side-menu__item><a href=/tutorials/beginners/basic-ml/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basic ML with Keras</p></a></li><li class=side-menu__item><a href=/tutorials/beginners/load/load_csv/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Load and preprocess data</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Advanced</p></span></li><li class=side-menu__item><a href=/tutorials/advanced/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Quickstart</p></a></li><li class=side-menu__item><a href=/tutorials/advanced/customization/tensors-operations/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Customization</p></a></li><li class=side-menu__item><a href=/tutorials/advanced/images/cnn/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Images</p></a></li><li class=side-menu__item><a href=/tutorials/advanced/structured/classify/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Structured data</p></a></li><li class=side-menu__item><a href=/tutorials/advanced/distributed/distributed_training_with_keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Distributed training</p></a></li></ul><ul class=side-menu-list data-parenturl=/guide/ style=display:none><li class=side-menu__item><a href=/guide/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Keras</p></span></li><li class=side-menu__item><a href=/guide/keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Getting started</p></a></li><li class=side-menu__item><a href=/guide/keras/custom_layers/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Advanced</p></a></li><li class=side-menu__item><a href=/guide/keras/examples/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Examples</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">TensorFlow Mechanics</p></span></li><li class=side-menu__item><a href=/guide/tensorflow/eager_execution class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basics</p></a></li><li class=side-menu__item><a href=/guide/tensorflow/ragged_tensors class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Advanced</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Data input pipeline</p></span></li><li class=side-menu__item><a href=/guide/tfdatasets/introduction class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=/guide/tfdatasets/feature_spec class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Feature spec API</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">TensorFlow Hub</p></span></li><li class=side-menu__item><a href=/guide/tfhub/intro class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Basics</p></a></li><li class=side-menu__item><a href=/guide/tfhub/key-concepts class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Key concepts</p></a></li><li class=side-menu__item><a href=/guide/tfhub/examples/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Examples</p></a></li><li class=side-menu__item><span class=side-menu__item__link><p class="side-menu__item__link__text side-menu__item__link__text__block">Model saving</p></span></li><li class=side-menu__item><a href=/guide/saving/checkpoints class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Checkpoints</p></a></li><li class=side-menu__item><a href=/guide/saving/saved_model class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Saved Model</p></a></li></ul><ul class=side-menu-list data-parenturl=/deploy/ style=display:none><li class=side-menu__item><a href=/deploy/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=/deploy/plumber/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Plumber</p></a></li><li class=side-menu__item><a href=/deploy/shiny/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Shiny</p></a></li><li class=side-menu__item><a href=/deploy/docker/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>TensorFlow Serving</p></a></li><li class=side-menu__item><a href=/deploy/rsconnect/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>RStudio Connect</p></a></li></ul><ul class=side-menu-list data-parenturl=/tools/ style=display:none><li class=side-menu__item><a href=/tools/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Overview</p></a></li><li class=side-menu__item><a href=/tools/tfruns/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Training Runs</p></a></li><li class=side-menu__item><a href=/tools/tensorboard/tensorboard/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>TensorBoard</p></a></li></ul><ul class=side-menu-list data-parenturl=/reference/keras style=display:none><li class=side-menu__item><a href=/reference/keras/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>keras</p></a></li><li class=side-menu__item><a href=/reference/tensorflow/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>tensorflow</p></a></li><li class=side-menu__item><a href=/reference/tfdatasets/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>tfdatasets</p></a></li><li class=side-menu__item><a href=/reference/tfruns/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>tfruns</p></a></li></ul><ul class=side-menu-list data-parenturl=/learn/resources/ style=display:none><li class=side-menu__item><a href=/learn/resources/ class=side-menu__item__link><img class=side-menu__item__link__icon src=/images/icons/block-retina.png alt><p class=side-menu__item__link__text>Resources</p></a></li></ul><ul class=side-menu-list data-parenturl=/blog.html style=display:none></ul></div><div class=content><h1 class=content-header>Local GPU</h1><div class=markdowned><div class=doc-page><div class=doc-page-index><ul id=gumshoe-container data-gumshoe></ul></div><div class=doc-page-body><div id=overview class="section level2"><h2>Overview</h2><p>TensorFlow can be configured to run on either CPUs or GPUs. The CPU version is much easier to install and configure so is the best starting place especially when you are first learning how to use TensorFlow. Here’s the guidance on CPU vs. GPU versions from the TensorFlow website:</p><ul><li><p><strong>TensorFlow with CPU support only</strong>. If your system does not have a NVIDIA® GPU, you must install this version. Note that this version of TensorFlow is typically much easier to install (typically, in 5 or 10 minutes), so even if you have an NVIDIA GPU, we recommend installing this version first.</p></li><li><p><strong>TensorFlow with GPU support</strong>. TensorFlow programs typically run significantly faster on a GPU than on a CPU. Therefore, if your system has a NVIDIA® GPU meeting the prerequisites shown below and you need to run performance-critical applications, you should ultimately install this version.</p></li></ul><p>So if you are just getting started with TensorFlow you may want to stick with the CPU version to start out, then install the GPU version once your training becomes more computationally demanding.</p><p>The prerequisites for the GPU version of TensorFlow on each platform are covered below. Once you’ve met the prerequisites installing the GPU version in a single-user / desktop environment is as simple as:</p><div class=sourceCode id=cb1><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb1-1 data-line-number=1><span class=kw><a href=https://rdrr.io/r/base/library.html>library</a></span>(tensorflow)</a>
<a class=sourceLine id=cb1-2 data-line-number=2><span class=kw><a href=../../../tensorflow/reference/install_tensorflow.html>install_tensorflow</a></span>(<span class=dt>version =</span> <span class=st>"gpu"</span>)</a></code></pre></div><p>If you are using Keras you can install both Keras and the GPU version of TensorFlow with:</p><div class=sourceCode id=cb2><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb2-1 data-line-number=1><span class=kw><a href=https://rdrr.io/r/base/library.html>library</a></span>(keras)</a>
<a class=sourceLine id=cb2-2 data-line-number=2><span class=kw><a href=../../../keras/reference/install_keras.html>install_keras</a></span>(<span class=dt>tensorflow =</span> <span class=st>"gpu"</span>)</a></code></pre></div><p>Note that on all platforms you must be running an NVIDIA® GPU with CUDA® Compute Capability 3.5 or higher in order to run the GPU version of TensorFlow. See the list of <a href=https://developer.nvidia.com/cuda-gpus>CUDA-enabled GPU cards</a>.</p></div><div id=prerequisties class="section level2"><h2>Prerequisties</h2><div id=windows class="section level3"><h3>Windows</h3><p>This article describes how to detect whether your graphics card uses an NVIDIA® GPU:</p><p><a href=http://nvidia.custhelp.com/app/answers/detail/a_id/2040/~/identifying-the-graphics-card-model-and-device-id-in-a-pc class=uri>http://nvidia.custhelp.com/app/answers/detail/a_id/2040/~/identifying-the-graphics-card-model-and-device-id-in-a-pc</a></p><p>Once you’ve confirmed that you have an NVIDIA® GPU, the following article describes how to install required software components including the CUDA Toolkit v10.0, required NVIDIA® drivers, and cuDNN &gt;= v7.4.1:</p><p><a href=https://www.tensorflow.org/install/gpu#hardware_requirements class=uri>https://www.tensorflow.org/install/gpu#hardware_requirements</a></p><p>Note that the documentation on installation of the last component (cuDNN v7.4.1) is a bit sparse. Once you join the NVIDIA® developer program and download the zip file containing cuDNN you need to extract the zip file and add the location where you extracted it to your system PATH.</p></div><div id=ubuntu class="section level3"><h3>Ubuntu</h3><p>This article describes how to install required software components including the CUDA Toolkit v10.0, required NVIDIA® drivers, and cuDNN &gt;= v7.4.1:</p><p><a href=https://www.tensorflow.org/install/install_linux#nvidia_requirements_to_run_tensorflow_with_gpu_support class=uri>https://www.tensorflow.org/install/install_linux#nvidia_requirements_to_run_tensorflow_with_gpu_support</a></p><p>The specifics of installing required software differ by Linux version so please review the NVIDIA® documentation carefully to ensure you install everything correctly.</p><p>The following section provides as example of the installation commands you might use on Ubuntu 16.04.</p><div id=ubuntu-16.04-example class="section level4"><h4>Ubuntu 16.04 Example</h4><p>First, install the NVIDIA drivers:</p><div class=sourceCode id=cb3><pre class="sourceCode ini"><code class="sourceCode ini"><a class=sourceLine id=cb3-1 data-line-number=1><span class=co># Add NVIDIA package repositories</span></a>
<a class=sourceLine id=cb3-2 data-line-number=2><span class=co># Add HTTPS support for apt-key</span></a>
<a class=sourceLine id=cb3-3 data-line-number=3><span class=dt>sudo apt-get install gnupg-curl</span></a>
<a class=sourceLine id=cb3-4 data-line-number=4><span class=dt>wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1604/x86_64/cuda-repo-ubuntu1604_10.0.130-1_amd64.deb</span></a>
<a class=sourceLine id=cb3-5 data-line-number=5><span class=dt>sudo dpkg -i cuda-repo-ubuntu1604_10.0.130-1_amd64.deb</span></a>
<a class=sourceLine id=cb3-6 data-line-number=6><span class=dt>sudo apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1604/x86_64/7fa2af80.pub</span></a>
<a class=sourceLine id=cb3-7 data-line-number=7><span class=dt>sudo apt-get update</span></a>
<a class=sourceLine id=cb3-8 data-line-number=8><span class=dt>wget http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1604/x86_64/nvidia-machine-learning-repo-ubuntu1604_1.0.0-1_amd64.deb</span></a>
<a class=sourceLine id=cb3-9 data-line-number=9><span class=dt>sudo apt install ./nvidia-machine-learning-repo-ubuntu1604_1.0.0-1_amd64.deb</span></a>
<a class=sourceLine id=cb3-10 data-line-number=10><span class=dt>sudo apt-get update</span></a>
<a class=sourceLine id=cb3-11 data-line-number=11></a>
<a class=sourceLine id=cb3-12 data-line-number=12><span class=co># Install NVIDIA driver</span></a>
<a class=sourceLine id=cb3-13 data-line-number=13><span class=co># Issue with driver install requires creating /usr/lib/nvidia</span></a>
<a class=sourceLine id=cb3-14 data-line-number=14><span class=dt>sudo mkdir /usr/lib/nvidia</span></a>
<a class=sourceLine id=cb3-15 data-line-number=15><span class=dt>sudo apt-get install --no-install-recommends nvidia-410</span></a>
<a class=sourceLine id=cb3-16 data-line-number=16><span class=co># Reboot. Check that GPUs are visible using the command: nvidia-smi</span></a></code></pre></div><p>Next install CUDA Toolkit v10.0 and cuDNN v7.4.1 with:</p><div class=sourceCode id=cb4><pre class="sourceCode ini"><code class="sourceCode ini"><a class=sourceLine id=cb4-1 data-line-number=1><span class=co># Install development and runtime libraries (~4GB)</span></a>
<a class=sourceLine id=cb4-2 data-line-number=2><span class=dt>sudo apt-get install --no-install-recommends \</span></a>
<a class=sourceLine id=cb4-3 data-line-number=3><span class=dt>    cuda-10-0 \</span></a>
<a class=sourceLine id=cb4-4 data-line-number=4><span class=dt>    libcudnn7</span><span class=ot>=</span><span class=dv>7</span><span class=st>.</span><span class=dv>4</span><span class=st>.</span><span class=fl>1.5</span><span class=dv>-1</span><span class=st>+cuda10</span><span class=fl>.0</span><span class=st>  \</span></a>
<a class=sourceLine id=cb4-5 data-line-number=5><span class=dt>    libcudnn7-dev</span><span class=ot>=</span><span class=dv>7</span><span class=st>.</span><span class=dv>4</span><span class=st>.</span><span class=fl>1.5</span><span class=dv>-1</span><span class=st>+cuda10</span><span class=fl>.0</span></a></code></pre></div><p>Note that it’s important to download <strong>CUDA 10.0</strong> (rather than CUDA 10.1, which may be the choice initially presented) as v10.0 is what TensorFlow is built against.</p><p>You can see more for the installation <a href=https://www.tensorflow.org/install/gpu#linux_setup>here</a>.</p></div><div id=environment-variables class="section level4"><h4>Environment Variables</h4><p>On Linux, part of the setup for CUDA libraries is adding the path to the CUDA binaries to your <code>PATH</code> and <code>LD_LIBRARY_PATH</code> as well as setting the <code>CUDA_HOME</code> environment variable. You will set these variables in distinct ways depending on whether you are installing TensorFlow on a single-user workstation or on a multi-user server. If you are running RStudio Server there is some additional setup required which is also covered below.</p><p>In all cases these are the environment variables that need to be set/modified in order for TensorFlow to find the required CUDA libraries. For example (paths will change depending on your specific installation of CUDA):</p><div class=sourceCode id=cb5><pre class="sourceCode bash"><code class="sourceCode bash"><a class=sourceLine id=cb5-1 data-line-number=1><span class=bu>export</span> <span class=va>CUDA_HOME=</span>/usr/local/cuda</a>
<a class=sourceLine id=cb5-2 data-line-number=2><span class=bu>export</span> <span class=va>LD_LIBRARY_PATH=${LD_LIBRARY_PATH}</span>:<span class=va>${CUDA_HOME}</span>/lib64 </a>
<a class=sourceLine id=cb5-3 data-line-number=3><span class=va>PATH=${CUDA_HOME}</span>/bin:<span class=va>${PATH}</span> </a>
<a class=sourceLine id=cb5-4 data-line-number=4><span class=bu>export</span> <span class=va>PATH</span></a></code></pre></div></div><div id=single-user-installation class="section level4"><h4>Single-User Installation</h4><p>In a single-user environment (e.g. a desktop system) you should define the environment variables within your <code>~/.profile</code> file. It’s necessary to use <code>~/.profile</code> rather than <code>~/.bashrc</code>, because <code>~/.profile</code> is read by desktop applications (e.g. RStudio) as well as terminal sessions whereas <code>~/.bashrc</code> applies only to terminal sessions.</p><p>Note that you need to restart your system after editing the <code>~/.profile</code> file for the changes to take effect. Note also that the <code>~/.profile</code> file will not be read by bash if you have either a <code>~/.bash_profile</code> or <code>~/.bash_login</code> file.</p><p>To summarize the recommendations above:</p><ul><li><p>Define CUDA related environment variables in <code>~/.profile</code> rather than <code>~/.bashrc</code>;</p></li><li><p>Ensure that you don’t have either a <code>~/.bash_profile</code> or <code>~/.bash_login</code> file (as these will prevent bash from seeing the variables you’ve added into <code>~/.profile</code>);</p></li><li><p>Restart your system after editing <code>~/.profile</code> so that the changes take effect.</p></li></ul></div><div id=multi-user-installation class="section level4"><h4>Multi-User Installation</h4><p>In a multi-user installation (e.g. a server) you should define the environment variables within the system-wide bash startup file (<code>/etc/profile</code>) so all users have access to them.</p><p>If you are running RStudio Server you need to also provide these variable definitions in an R / RStudio specific fashion (as RStudio Server doesn’t execute system profile scripts for R sessions).</p><p>To modify the <code>LD_LIBRARY_PATH</code> you use the <code>rsession-ld-library-path</code> in the /etc/rstudio/rserver.conf configuration file</p><p><em>/etc/rstudio/rserver.conf</em></p><div class=sourceCode id=cb6><pre class="sourceCode ini"><code class="sourceCode ini"><a class=sourceLine id=cb6-1 data-line-number=1><span class=dt>rsession-ld-library-path</span><span class=ot>=</span><span class=st>/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64</span></a></code></pre></div><p>You should set the <code>CUDA_HOME</code> and <code>PATH</code> variables in the /usr/lib/R/etc/Rprofile.site configuration file:</p><p><em>/usr/lib/R/etc/Rprofile.site</em></p><div class=sourceCode id=cb7><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb7-1 data-line-number=1><span class=kw><a href=https://rdrr.io/r/base/Sys.setenv.html>Sys.setenv</a></span>(<span class=dt>CUDA_HOME=</span><span class=st>"/usr/local/cuda"</span>)</a>
<a class=sourceLine id=cb7-2 data-line-number=2><span class=kw><a href=https://rdrr.io/r/base/Sys.setenv.html>Sys.setenv</a></span>(<span class=dt>PATH=</span><span class=kw><a href=https://rdrr.io/r/base/paste.html>paste</a></span>(<span class=kw><a href=https://rdrr.io/r/base/Sys.getenv.html>Sys.getenv</a></span>(<span class=st>"PATH"</span>), <span class=st>"/usr/local/cuda/bin"</span>, <span class=dt>sep =</span> <span class=st>":"</span>))</a></code></pre></div><p>In a server environment you might also find it more convenient to install TensorFlow into a system-wide location where all users of the server can share access to it. Details on doing this are covered in the <a href=#multiple-users>multi-user installation</a> section below.</p></div></div><div id=mac-os-x class="section level3"><h3>Mac OS X</h3><p>As of version 1.2 of TensorFlow, GPU support is no longer available on Mac OS X. If you want to use a GPU on Mac OS X you will need to install TensorFlow v1.1 as follows:</p><div class=sourceCode id=cb8><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb8-1 data-line-number=1><span class=kw><a href=https://rdrr.io/r/base/library.html>library</a></span>(tensorflow)</a>
<a class=sourceLine id=cb8-2 data-line-number=2><span class=kw><a href=../../../tensorflow/reference/install_tensorflow.html>install_tensorflow</a></span>(<span class=dt>version =</span> <span class=st>"1.1-gpu"</span>)</a></code></pre></div><p>However, before you install you should ensure that you have an NVIDIA® GPU and that you have the required CUDA libraries on your system.</p><p>While some older Macs include NVIDIA® GPU’s, most Macs (especially newer ones) do not, so you should check the type of graphics card you have in your Mac before proceeding.</p><p>Here is a list of Mac systems which include built in NVIDIA GPU’s:</p><p><a href=https://support.apple.com/en-us/HT204349 class=uri>https://support.apple.com/en-us/HT204349</a></p><p>You can check which graphics card your Mac has via the <strong>System Report</strong> button found within the <strong>About This Mac</strong> dialog:</p><p><img src=images/mac-gpu.png class="tutorial-illustration tutorial-illustration-medium"></p><p>The MacBook Pro system displayed above <em>does not</em> have an NVIDIA® GPU installed (rather it has an Intel Iris Pro).</p><p>If you do have an NVIDIA® GPU, the following article describes how to install the base CUDA libraries:</p><p><a href=http://docs.nvidia.com/cuda/cuda-installation-guide-mac-os-x/index.html class=uri>http://docs.nvidia.com/cuda/cuda-installation-guide-mac-os-x/index.html</a></p><p>You also need to intall the cuDNN library 5.1 library for OS X from here:</p><p><a href=https://developer.nvidia.com/cudnn class=uri>https://developer.nvidia.com/cudnn</a></p><p>After installing these components, you need to ensure that both CUDA and cuDNN are available to your R session via the <code>DYLD_LIBRARY_PATH</code>. This typically involves setting environment variables in your <code>.bash_profile</code> as described in the NVIDIA documentation for CUDA and cuDNN.</p><p>Note that environment variables set in .bash_profile will not be available by default to OS X desktop applications like R GUI and RStudio. To use CUDA within those environments you should start the application from a system terminal as follows:</p><div class=sourceCode id=cb9><pre class="sourceCode bash"><code class="sourceCode bash"><a class=sourceLine id=cb9-1 data-line-number=1><span class=ex>open</span> -a R         # R GUI</a>
<a class=sourceLine id=cb9-2 data-line-number=2><span class=ex>open</span> -a RStudio   # RStudio</a></code></pre></div></div></div><div id=installation class="section level2"><h2>Installation</h2><div id=single-user class="section level3"><h3>Single User</h3><p>In a single-user desktop environment you can install TensorFlow with GPU support via:</p><div class=sourceCode id=cb10><pre class="sourceCode r"><code class="sourceCode r"><a class=sourceLine id=cb10-1 data-line-number=1><span class=kw><a href=https://rdrr.io/r/base/library.html>library</a></span>(tensorflow)</a>
<a class=sourceLine id=cb10-2 data-line-number=2><span class=kw><a href=../../../tensorflow/reference/install_tensorflow.html>install_tensorflow</a></span>(<span class=dt>version =</span> <span class=st>"gpu"</span>)</a></code></pre></div><p>If this version doesn’t load successfully you should review the prerequisites above and ensure that you’ve provided definitions of CUDA environment variables as recommended above.</p><p>See the main <a href=installation.html>installation article</a> for details on other available options (e.g. virtualenv vs. conda installation, installing development versions, etc.).</p></div><div id=multiple-users class="section level3"><h3>Multiple Users</h3><p>In a multi-user server environment you may want to install a system-wide version of TensorFlow with GPU support so all users can share the same configuration. To do this, start by following the directions for native pip installation of the GPU version of TensorFlow here:</p><p><a href=https://www.tensorflow.org/install/install_linux#InstallingNativePip class=uri>https://www.tensorflow.org/install/install_linux#InstallingNativePip</a></p><p>There are some components of TensorFlow (e.g. the <a href=https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/keras>Keras</a> library) which have dependencies on additional Python packages.</p><p>You can install Keras and it’s optional dependencies with the following command (ensuring you have the correct privilege to write to system library locations as required via sudo, etc.):</p><div class=sourceCode id=cb11><pre class="sourceCode bash"><code class="sourceCode bash"><a class=sourceLine id=cb11-1 data-line-number=1><span class=ex>pip</span> install keras h5py pyyaml requests Pillow scipy</a></code></pre></div><p>If you have any trouble with locating the system-wide version of TensorFlow from within R please see the section on <a href=installation.html#locating-tensorflow>locating TensorFlow</a>.</p></div></div></div></div></div><footer>Copyright © 2015-2019 The TensorFlow Authors and RStudio, Inc.
<script type=text/javascript>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');_st('install','Ne8tbLfE121Pkj3xMr_G','2.0.0');</script></footer></div></div></body></html>