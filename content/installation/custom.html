---
title: "Custom Installation"
type: docs
output: 
  html_document:
    toc_depth: 3
    toc_float:
        collapsed: false
menu:
  main:
    name: "Custom Installation"
    identifier: "custom-installation"
    parent: "installation-overview"
    weight: 11 
---



<p>The <code><a href="../tensorflow/reference/install_tensorflow.html">install_tensorflow()</a></code> function is provided as a convenient way to get started, but is not required. If you have an existing installation of TensorFlow or just prefer your own custom installation that’s fine too.</p>
<p>The full instructions for installing TensorFlow on various platforms are here: <a href="https://www.tensorflow.org/install/" class="uri">https://www.tensorflow.org/install/</a>. After installing, please refer to the sections below on locating TensorFlow and meeting additional dependencies to ensure that the tensorflow for R package functions correctly with your installation.</p>
<div id="locating-tensorflow" class="section level3">
<h3>Locating TensorFlow</h3>
<p>Once you’ve installed TensorFlow you need to ensure that the tensorflow for R package can find your installation. The package scans the system for various versions of Python, and also scans available virtual environments and conda environments, so in many cases things will just work without additional effort.</p>
<p>If the version of TensorFlow you installed is not found automatically, then you can use the following techniques to ensure that TensorFlow is located.</p>
<p>Specify the <code>RETICULATE_PYTHON</code> environment variable to force probing within a specific Python installation. For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tensorflow)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span>(<span class="dt">RETICULATE_PYTHON=</span><span class="st">"/usr/local/bin/python"</span>)</a></code></pre></div>
<p>You could also add the <code>RETICULATE_PYTHON</code> environment variable to your <code>.RProfile</code>.</p>
<p>Alternatively, call the <code>use_python</code> family of configuration functions:</p>
<table>
<thead><tr class="header">
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="../tensorflow/reference/reexports.html">use_python()</a></code></td>
<td>Specify the path a specific Python binary.</td>
</tr>
<tr class="even">
<td><code><a href="../tensorflow/reference/reexports.html">use_virtualenv()</a></code></td>
<td>Specify the directory containing a Python virtualenv.</td>
</tr>
<tr class="odd">
<td><code><a href="../tensorflow/reference/reexports.html">use_condaenv()</a></code></td>
<td>Specify the name of a conda environment.</td>
</tr>
</tbody>
</table>
<p>For example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tensorflow)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="../tensorflow/reference/reexports.html">use_python</a></span>(<span class="st">"/usr/local/bin/python"</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="../tensorflow/reference/reexports.html">use_virtualenv</a></span>(<span class="st">"~/myenv"</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw"><a href="../tensorflow/reference/reexports.html">use_condaenv</a></span>(<span class="st">"myenv"</span>)</a></code></pre></div>
<p>Note that you can include multiple calls to the <code>use_</code> functions and all provided locations will be tried in the order they were specified.</p>
<p>You can also use the <code>required</code> argument from the <code>use_*</code> functions. In this case
TensorFlow will only be searched at the specified location.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tensorflow)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="../tensorflow/reference/reexports.html">use_virtualenv</a></span>(<span class="st">"my_env"</span>, <span class="dt">required =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="additional-dependencies" class="section level3">
<h3>Additional Dependencies</h3>
<p>There are some components of TensorFlow (e.g. the <a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/python/keras">Keras</a> library) which have dependencies on additional Python packages. The <code><a href="../tensorflow/reference/install_tensorflow.html">install_tensorflow()</a></code> function installs these dependencies automatically, however if you do a custom installation you should be sure to install them manually.</p>
<p>You can install the additional dependencies with the following command:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="ex">pip</span> install h5py pyyaml requests Pillow scipy</a></code></pre></div>
</div>
<div id="supported-platforms" class="section level2">
<h2>Supported Platforms</h2>
<p>Note that binary installations of TensorFlow are provided for Windows, OS X, and Ubuntu 16.04 or higher. It’s possible that binary installations will work on other Linux variants but Ubuntu is the only platform tested and supported.</p>
<p>In particular, if you are running on RedHat or CentOS you will need to <a href="https://www.tensorflow.org/install/source">install from source</a> then follow the instructions in the [Custom Installation] section to ensure that your installation of TensorFlow can be used with the tensorflow R package.</p>
</div>
