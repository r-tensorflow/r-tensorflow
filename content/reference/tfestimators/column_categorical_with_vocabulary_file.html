---
title: Construct a Categorical Column with a Vocabulary File
type: docs
repo: https://github.com/rstudio/tfestimators
menu:
  main:
    name: Construct a Categorical Column with a Vocabulary File - tfestimators
    parent: tfestimators-reference
aliases:
- /reference/tfestimators/column_categorical_with_vocabulary_file.html
- /tfestimators/reference/column_categorical_with_vocabulary_file.html
- /guide/tfestimators/reference/column_categorical_with_vocabulary_file.html
- /tools/tools/tfestimators/reference/column_categorical_with_vocabulary_file.html
- /installation/tfestimators/reference/column_categorical_with_vocabulary_file.html
- /tutorials/tfestimators/reference/column_categorical_with_vocabulary_file.html
- /guide/tools/tfestimators/reference/column_categorical_with_vocabulary_file.html
- /deploy/tfestimators/reference/column_categorical_with_vocabulary_file.html
- /tools/tfestimators/reference/column_categorical_with_vocabulary_file.html
- /tutorials/tools/tfestimators/reference/column_categorical_with_vocabulary_file.html
---
    
    <p>Use this when your inputs are in string or integer format, and you have a
vocabulary file that maps each value to an integer ID. By default,
out-of-vocabulary values are ignored. Use either (but not both) of
<code>num_oov_buckets</code> and <code>default_value</code> to specify how to include
out-of-vocabulary values. For input dictionary <code>features</code>, <code>features[key]</code> is
either tensor or sparse tensor object. If it's tensor object, missing values can be
represented by <code>-1</code> for int and <code>''</code> for string. Note that these values are
independent of the <code>default_value</code> argument.</p>

    <div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>column_categorical_with_vocabulary_file</span>(<span class='no'>...</span>, <span class='no'>vocabulary_file</span>,
  <span class='no'>vocabulary_size</span>, <span class='kw'>num_oov_buckets</span> <span class='kw'>=</span> <span class='fl'>0L</span>, <span class='kw'>default_value</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>dtype</span> <span class='kw'>=</span> <span class='no'>tf</span>$<span class='no'>string</span>)</code></pre></div>

    <h2 id="arguments">Arguments</h2>
    <table class="ref-arguments">
    
    <colgroup>
      <col class="name" />
      <col class="desc" />
    </colgroup>  
      
    <tr>
      <td>...</td>
      <td><p>Expression(s) identifying input feature(s). Used as the column
name and the dictionary key for feature parsing configs, feature tensors,
and feature columns.</p></td>
    </tr>
    <tr>
      <td>vocabulary_file</td>
      <td><p>The vocabulary file name.</p></td>
    </tr>
    <tr>
      <td>vocabulary_size</td>
      <td><p>Number of the elements in the vocabulary. This must be
no greater than length of <code>vocabulary_file</code>, if less than length, later
values are ignored.</p></td>
    </tr>
    <tr>
      <td>num_oov_buckets</td>
      <td><p>Non-negative integer, the number of out-of-vocabulary
buckets. All out-of-vocabulary inputs will be assigned IDs in the range
<code>[vocabulary_size, vocabulary_size+num_oov_buckets)</code> based on a hash of the
input value. A positive <code>num_oov_buckets</code> can not be specified with
<code>default_value</code>.</p></td>
    </tr>
    <tr>
      <td>default_value</td>
      <td><p>The integer ID value to return for out-of-vocabulary
feature values, defaults to <code>-1</code>. This can not be specified with a positive
<code>num_oov_buckets</code>.</p></td>
    </tr>
    <tr>
      <td>dtype</td>
      <td><p>The type of features. Only string and integer types are
supported.</p></td>
    </tr>
    </table>

    <h2 id="value">Value</h2>

    <p>A categorical column with a vocabulary file.</p>
    <h2 id="raises">Raises</h2>

    

<ul>
<li><p>ValueError: <code>vocabulary_file</code> is missing.</p></li>
<li><p>ValueError: <code>vocabulary_size</code> is missing or &lt; 1.</p></li>
<li><p>ValueError: <code>num_oov_buckets</code> is not a non-negative integer.</p></li>
<li><p>ValueError: <code>dtype</code> is neither string nor integer.</p></li>
</ul>

    <h2 id="see-also">See also</h2>

    <div class='dont-index'><p>Other feature column constructors: <code><a href='../column_bucketized.html'>column_bucketized</a></code>,
  <code><a href='../column_categorical_weighted.html'>column_categorical_weighted</a></code>,
  <code><a href='../column_categorical_with_hash_bucket.html'>column_categorical_with_hash_bucket</a></code>,
  <code><a href='../column_categorical_with_identity.html'>column_categorical_with_identity</a></code>,
  <code><a href='../column_categorical_with_vocabulary_list.html'>column_categorical_with_vocabulary_list</a></code>,
  <code><a href='../column_crossed.html'>column_crossed</a></code>,
  <code><a href='../column_embedding.html'>column_embedding</a></code>,
  <code><a href='../column_numeric.html'>column_numeric</a></code>, <code><a href='../input_layer.html'>input_layer</a></code></p></div>




