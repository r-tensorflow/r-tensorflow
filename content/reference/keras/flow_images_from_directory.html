---
title: Generates batches of data from images in a directory (with optional augmented/normalized
  data)
type: docs
repo: https://github.com/rstudio/keras
menu:
  main:
    name: Generates batches of data from images in a directory (with optional augmented/normalized
      data) - keras
    parent: keras-reference
aliases:
- /reference/keras/flow_images_from_directory.html
- /keras/reference/flow_images_from_directory.html
- /guide/keras/reference/flow_images_from_directory.html
- /tools/tools/keras/reference/flow_images_from_directory.html
---
    
    <p>Generates batches of data from images in a directory (with optional
augmented/normalized data)</p>

    <div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>flow_images_from_directory</span>(
  <span class='no'>directory</span>,
  <span class='kw'>generator</span> <span class='kw'>=</span> <span class='fu'><a href='../image_data_generator.html'>image_data_generator</a></span>(),
  <span class='kw'>target_size</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>256</span>, <span class='fl'>256</span>),
  <span class='kw'>color_mode</span> <span class='kw'>=</span> <span class='st'>"rgb"</span>,
  <span class='kw'>classes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>class_mode</span> <span class='kw'>=</span> <span class='st'>"categorical"</span>,
  <span class='kw'>batch_size</span> <span class='kw'>=</span> <span class='fl'>32</span>,
  <span class='kw'>shuffle</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_to_dir</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_prefix</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>save_format</span> <span class='kw'>=</span> <span class='st'>"png"</span>,
  <span class='kw'>follow_links</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>interpolation</span> <span class='kw'>=</span> <span class='st'>"nearest"</span>
)</code></pre></div>

    <h2 id="arguments">Arguments</h2>
    <table class="ref-arguments">
    
    <colgroup>
      <col class="name" />
      <col class="desc" />
    </colgroup>  
      
    <tr>
      <td>directory</td>
      <td><p>path to the target directory. It should contain one
subdirectory per class. Any PNG, JPG, BMP, PPM, or TIF images inside each
of the subdirectories directory tree will be included in the generator.
See <a href='https://gist.github.com/fchollet/0830affa1f7f19fd47b06d4cf89ed44d'>this script</a>
for more details.</p></td>
    </tr>
    <tr>
      <td>generator</td>
      <td><p>Image data generator (default generator does no data
augmentation/normalization transformations)</p></td>
    </tr>
    <tr>
      <td>target_size</td>
      <td><p>integer vector, default: <code><a href='https://rdrr.io/r/base/c.html'>c(256, 256)</a></code>. The dimensions to
which all images found will be resized.</p></td>
    </tr>
    <tr>
      <td>color_mode</td>
      <td><p>one of "grayscale", "rbg". Default: "rgb". Whether the
images will be converted to have 1 or 3 color channels.</p></td>
    </tr>
    <tr>
      <td>classes</td>
      <td><p>optional list of class subdirectories (e.g. <code><a href='https://rdrr.io/r/base/c.html'>c('dogs', 'cats')</a></code>). Default: <code>NULL</code>, If not provided, the list of classes will be
automatically inferred (and the order of the classes, which will map to
the label indices, will be alphanumeric).</p></td>
    </tr>
    <tr>
      <td>class_mode</td>
      <td><p>one of "categorical", "binary", "sparse" or <code>NULL</code>.
Default: "categorical". Determines the type of label arrays that are
returned: "categorical" will be 2D one-hot encoded labels, "binary" will
be 1D binary labels, "sparse" will be 1D integer labels. If <code>NULL</code>, no
labels are returned (the generator will only yield batches of image data,
which is useful to use <code><a href='../predict_generator.html'>predict_generator()</a></code>, <code><a href='../evaluate_generator.html'>evaluate_generator()</a></code>,
etc.).</p></td>
    </tr>
    <tr>
      <td>batch_size</td>
      <td><p>int (default: <code>32</code>).</p></td>
    </tr>
    <tr>
      <td>shuffle</td>
      <td><p>boolean (defaut: <code>TRUE</code>).</p></td>
    </tr>
    <tr>
      <td>seed</td>
      <td><p>int (default: <code>NULL</code>).</p></td>
    </tr>
    <tr>
      <td>save_to_dir</td>
      <td><p><code>NULL</code> or str (default: <code>NULL</code>). This allows you to
optionally specify a directory to which to save the augmented pictures being
generated (useful for visualizing what you are doing).</p></td>
    </tr>
    <tr>
      <td>save_prefix</td>
      <td><p>str (default: ''). Prefix to use for filenames of saved
pictures (only relevant if <code>save_to_dir</code> is set).</p></td>
    </tr>
    <tr>
      <td>save_format</td>
      <td><p>one of "png", "jpeg" (only relevant if save_to_dir is
set). Default: "png".</p></td>
    </tr>
    <tr>
      <td>follow_links</td>
      <td><p>whether to follow symlinks inside class subdirectories
(default: <code>FALSE</code>)</p></td>
    </tr>
    <tr>
      <td>subset</td>
      <td><p>Subset of data (<code>"training"</code> or <code>"validation"</code>) if
<code>validation_split</code> is set in <code><a href='../image_data_generator.html'>image_data_generator()</a></code>.</p></td>
    </tr>
    <tr>
      <td>interpolation</td>
      <td><p>Interpolation method used to resample the image if the
target size is different from that of the loaded image. Supported methods
are "nearest", "bilinear", and "bicubic". If PIL version 1.1.3 or newer is
installed, "lanczos" is also supported. If PIL version 3.4.0 or newer is
installed, "box" and "hamming" are also supported. By default, "nearest"
is used.</p></td>
    </tr>
    </table>

    <h2 id="details">Details</h2>

    <p>Yields batches indefinitely, in an infinite loop.</p>
    <h2 id="yields">Yields</h2>

    <p><code>(x, y)</code> where <code>x</code> is an array of image data and <code>y</code> is a
array of corresponding labels. The generator loops indefinitely.</p>
    <h2 id="see-also">See also</h2>

    <div class='dont-index'><p>Other image preprocessing: 
<code><a href='../fit_image_data_generator.html'>fit_image_data_generator</a>()</code>,
<code><a href='../flow_images_from_dataframe.html'>flow_images_from_dataframe</a>()</code>,
<code><a href='../flow_images_from_data.html'>flow_images_from_data</a>()</code>,
<code><a href='../image_load.html'>image_load</a>()</code>,
<code><a href='../image_to_array.html'>image_to_array</a>()</code></p></div>




