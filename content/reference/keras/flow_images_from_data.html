---
title: "Generates batches of augmented/normalized data from image data and labels"
type: docs
repo: https://github.com/rstudio/keras
menu:
  main:
    name: "Generates batches of augmented/normalized data from image data and labels - keras"
    parent: keras-reference
aliases: '/reference/keras/flow_images_from_data.html'
---
    
    <p>Generates batches of augmented/normalized data from image data and labels</p>

    <div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>flow_images_from_data</span>(
  <span class='no'>x</span>,
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>generator</span> <span class='kw'>=</span> <span class='fu'><a href='image_data_generator.html'>image_data_generator</a></span>(),
  <span class='kw'>batch_size</span> <span class='kw'>=</span> <span class='fl'>32</span>,
  <span class='kw'>shuffle</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>sample_weight</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_to_dir</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_prefix</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>save_format</span> <span class='kw'>=</span> <span class='st'>"png"</span>,
  <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</code></pre></div>

    <h2 id="arguments">Arguments</h2>
    <table class="ref-arguments">
    
    <colgroup>
      <col class="name" />
      <col class="desc" />
    </colgroup>  
      
    <tr>
      <td>x</td>
      <td><p>data. Should have rank 4. In case of grayscale data, the channels
axis should have value 1, and in case of RGB data, it should have value 3.</p></td>
    </tr>
    <tr>
      <td>y</td>
      <td><p>labels (can be <code>NULL</code> if no labels are required)</p></td>
    </tr>
    <tr>
      <td>generator</td>
      <td><p>Image data generator to use for augmenting/normalizing image
data.</p></td>
    </tr>
    <tr>
      <td>batch_size</td>
      <td><p>int (default: <code>32</code>).</p></td>
    </tr>
    <tr>
      <td>shuffle</td>
      <td><p>boolean (defaut: <code>TRUE</code>).</p></td>
    </tr>
    <tr>
      <td>sample_weight</td>
      <td><p>Sample weights.</p></td>
    </tr>
    <tr>
      <td>seed</td>
      <td><p>int (default: <code>NULL</code>).</p></td>
    </tr>
    <tr>
      <td>save_to_dir</td>
      <td><p><code>NULL</code> or str (default: <code>NULL</code>). This allows you to
optionally specify a directory to which to save the augmented pictures being
generated (useful for visualizing what you are doing).</p></td>
    </tr>
    <tr>
      <td>save_prefix</td>
      <td><p>str (default: ''). Prefix to use for filenames of saved
pictures (only relevant if <code>save_to_dir</code> is set).</p></td>
    </tr>
    <tr>
      <td>save_format</td>
      <td><p>one of "png", "jpeg" (only relevant if save_to_dir is
set). Default: "png".</p></td>
    </tr>
    <tr>
      <td>subset</td>
      <td><p>Subset of data (<code>"training"</code> or <code>"validation"</code>) if
<code>validation_split</code> is set in <code><a href='image_data_generator.html'>image_data_generator()</a></code>.</p></td>
    </tr>
    </table>

    <h2 id="details">Details</h2>

    <p>Yields batches indefinitely, in an infinite loop.</p>
    <h2 id="yields">Yields</h2>

    <p><code>(x, y)</code> where <code>x</code> is an array of image data and <code>y</code> is a
array of corresponding labels. The generator loops indefinitely.</p>
    <h2 id="see-also">See also</h2>

    <div class='dont-index'><p>Other image preprocessing: 
<code><a href='fit_image_data_generator.html'>fit_image_data_generator</a>()</code>,
<code><a href='flow_images_from_dataframe.html'>flow_images_from_dataframe</a>()</code>,
<code><a href='flow_images_from_directory.html'>flow_images_from_directory</a>()</code>,
<code><a href='image_load.html'>image_load</a>()</code>,
<code><a href='image_to_array.html'>image_to_array</a>()</code></p></div>




