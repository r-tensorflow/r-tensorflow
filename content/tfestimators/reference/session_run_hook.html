---
title: "Create Custom Session Run Hooks"
type: docs
repo: https://github.com/rstudio/tfestimators
menu:
  main:
    name: "Create Custom Session Run Hooks - tfestimators"
    parent: tfestimators-reference
---
    
    
    <p>Create a set of session run hooks, used to record information during
training of an estimator. See <strong>Details</strong> for more information on the
various hooks that can be defined.</p>
    

    <div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>session_run_hook</span>(<span class='kw'>begin</span> <span class='kw'>=</span> <span class='kw'>function</span>() { },
  <span class='kw'>after_create_session</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>session</span>, <span class='no'>coord</span>) { },
  <span class='kw'>before_run</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>context</span>) { }, <span class='kw'>after_run</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>context</span>,
  <span class='no'>values</span>) { }, <span class='kw'>end</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>session</span>) { })</code></pre></div>
    
    <h2 id="arguments">Arguments</h2>
    <table class="ref-arguments">
    
    <colgroup>
      <col class="name" />
      <col class="desc" />
    </colgroup>  
      
    <tr>
      <td>begin</td>
      <td><p><code>function()</code>: An <span style="R">R</span> function, to be called once before using the session.</p></td>
    </tr>
    <tr>
      <td>after_create_session</td>
      <td><p><code>function(session, coord)</code>: An <span style="R">R</span> function, to be called
once the new TensorFlow session has been created.</p></td>
    </tr>
    <tr>
      <td>before_run</td>
      <td><p><code>function(run_context)</code>: An <span style="R">R</span> function to be called before a run.</p></td>
    </tr>
    <tr>
      <td>after_run</td>
      <td><p><code>function(run_context, run_values)</code>: An <span style="R">R</span> function to be called
after a run.</p></td>
    </tr>
    <tr>
      <td>end</td>
      <td><p><code>function(session)</code>: An <span style="R">R</span> function to be called at the end of the session.</p>
<p>Typically, you'll want to define a <code>before_run()</code> hook that defines the set
of tensors you're interested in for a particular run, and then you'll use the
resulting values of those tensors in your <code>after_run()</code> hook. The tensors
requested in your <code>before_run()</code> hook will be made available as part of the
second argument in the <code>after_run()</code> hook (the <code>values</code> argument).</p></td>
    </tr>
    </table>
    
    <h2 id="see-also">See also</h2>

    <div class='dont-index'><p><code><a href='session_run_args.html'>session_run_args()</a></code></p>
<p>Other session_run_hook wrappers: <code><a href='hook_checkpoint_saver.html'>hook_checkpoint_saver</a></code>,
  <code><a href='hook_global_step_waiter.html'>hook_global_step_waiter</a></code>,
  <code><a href='hook_history_saver.html'>hook_history_saver</a></code>,
  <code><a href='hook_logging_tensor.html'>hook_logging_tensor</a></code>,
  <code><a href='hook_nan_tensor.html'>hook_nan_tensor</a></code>,
  <code><a href='hook_progress_bar.html'>hook_progress_bar</a></code>,
  <code><a href='hook_step_counter.html'>hook_step_counter</a></code>,
  <code><a href='hook_stop_at_step.html'>hook_stop_at_step</a></code>,
  <code><a href='hook_summary_saver.html'>hook_summary_saver</a></code></p></div>
    



