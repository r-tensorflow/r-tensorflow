---
title: "Represents Sparse Feature where IDs are set by Hashing"
type: docs
repo: https://github.com/rstudio/tfestimators
menu:
  main:
    name: "Represents Sparse Feature where IDs are set by Hashing - tfestimators"
    parent: tfestimators-reference
---
    
    
    <p>Use this when your sparse features are in string or integer format, and you
want to distribute your inputs into a finite number of buckets by hashing.
output_id = Hash(input_feature_string) <!-- % bucket_size For input dictionary -->
<code>features</code>, <code>features$key$</code> is either tensor or sparse tensor object. If it's
tensor object, missing values can be represented by <code>-1</code> for int and <code>''</code> for
string. Note that these values are independent of the <code>default_value</code>
argument.</p>
    

    <div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>column_categorical_with_hash_bucket</span>(<span class='no'>...</span>, <span class='no'>hash_bucket_size</span>,
  <span class='kw'>dtype</span> <span class='kw'>=</span> <span class='no'>tf</span>$<span class='no'>string</span>)</code></pre></div>
    
    <h2 id="arguments">Arguments</h2>
    <table class="ref-arguments">
    
    <colgroup>
      <col class="name" />
      <col class="desc" />
    </colgroup>  
      
    <tr>
      <td>...</td>
      <td><p>Expression(s) identifying input feature(s). Used as the column
name and the dictionary key for feature parsing configs, feature tensors,
and feature columns.</p></td>
    </tr>
    <tr>
      <td>hash_bucket_size</td>
      <td><p>An int &gt; 1. The number of buckets.</p></td>
    </tr>
    <tr>
      <td>dtype</td>
      <td><p>The type of features. Only string and integer types are
supported.</p></td>
    </tr>
    </table>
    
    <h2 id="value">Value</h2>

    <p>A <code>_HashedCategoricalColumn</code>.</p>
    
    <h2 id="raises">Raises</h2>

    
    <ul>
<li><p>ValueError: <code>hash_bucket_size</code> is not greater than 1.</p></li>
<li><p>ValueError: <code>dtype</code> is neither string nor integer.</p></li>
</ul>
    
    <h2 id="see-also">See also</h2>

    <div class='dont-index'><p>Other feature column constructors: <code><a href='column_bucketized.html'>column_bucketized</a></code>,
  <code><a href='column_categorical_weighted.html'>column_categorical_weighted</a></code>,
  <code><a href='column_categorical_with_identity.html'>column_categorical_with_identity</a></code>,
  <code><a href='column_categorical_with_vocabulary_file.html'>column_categorical_with_vocabulary_file</a></code>,
  <code><a href='column_categorical_with_vocabulary_list.html'>column_categorical_with_vocabulary_list</a></code>,
  <code><a href='column_crossed.html'>column_crossed</a></code>,
  <code><a href='column_embedding.html'>column_embedding</a></code>,
  <code><a href='column_numeric.html'>column_numeric</a></code>, <code><a href='input_layer.html'>input_layer</a></code></p></div>
    



